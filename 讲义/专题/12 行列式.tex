\chapter{行列式}

接下来我们将开始介绍大部分线性代数或高等代数教材中开头就会介绍的内容——行列式. 在本讲义的思路中，我们更多将行列式视为一个帮助我们研究的工具，无论是当前的主线——线性方程组解的理论还是之后我们要介绍的矩阵标准形的内容. 因此我们会将这一章只作类似``工具介绍''的作用，而非其他教材那样从行列式出发引出相关概念，因为我们研究的核心和出发点是之前的抽象空间和映射.

事实上，我们将在本讲义之后再介绍一次行列式，那时我们将会介绍行列式更丰富的应用，并表明是否引入行列式可能对于线性代数完整理论的构建而言重要程度是有限的. 但是我们完全无法否认行列式的历史地位，从17世纪起行列式就是用于求解线性方程组的重要的工具，历经数百年也逐渐发展出了许多重要的理论和应用，因此我们仍然需要完整的章节来讲述行列式的相关内容.

\section{行列式的定义}

或许行列式是线性代数基础内容中最难下定义的一个概念了——不同的教材通常会给出不同的行列式引入和定义方式，且不同的思路各有其优劣。通常有三种基本的定义方式：``逆序数''定义（最常见的方式）、递归式定义（按行（列）展开）以及公理化定义（使用一些规则描述），这三种定义方式也是完全等价的. 在本讲中，我们从公理化定义出发，将递归式定义作为性质进行介绍，然后在行列式的基本运算中引入逆序数定义. 在读者已经适应公理化定义的体系后，我想这样的思路更具有几何直观，很多的推导也非常便捷.

\subsection{公理化定义}

\begin{definition}{行列式}{公理化定义} \index{hanglieshi@行列式 (determinant)}
    数域$\mathbf{F}$上的一个$n$阶\term{行列式}是取值于$\mathbf{F}$的$n$个$n$维向量$\alpha_1,\alpha_2,\ldots,\alpha_n \in \mathbf{F}^n$的一个函数，且$\forall \alpha_i,\beta_i \in \mathbf{F}^n$和$\forall \lambda \in \mathbf{F}$，满足下列规则：
    \begin{enumerate}
        \item \label{item:13:齐性}
              (齐性) $D(\alpha_1,\ldots,\lambda\alpha_i,\ldots,\alpha_n)=\lambda D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_n)$；

        \item \label{item:13:加性}
              (加性，与 \ref*{item:13:齐性} 合称线性性) \\
              $D(\alpha_1,\ldots,\alpha_i+\beta_i,\ldots,\alpha_n)=D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_n)+D(\alpha_1,\ldots,\beta_i,\ldots,\alpha_n)$；

        \item \label{item:13:反对称性}
              (反对称性) $D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n)=-D(\alpha_1,\ldots,\alpha_j,\ldots,\alpha_i,\ldots,\alpha_n)$；

        \item \label{item:13:规范性}
              (规范性) $D(e_1,e_2,\ldots,e_n)=1$.
    \end{enumerate}
\end{definition}
在公理化定义中，我们将行列式定义为一个满足特定的运算性质的从列向量组合到数的函数. 需要注意的是，行列式除了上述记法外，如果设矩阵 $A = (\alpha_1,\ldots,\alpha_n)$，那么行列式 $D(\alpha_1,\ldots,\alpha_n)$ 也可以记为 $|A|$.

除此之外，我们不难看出公理化定义可以形象地理解为对$n$维空间中体积的定义，对几何意义感兴趣的同学可以参考 \href{https://b23.tv/BV1ys411472E}{3b1b《线性代数的本质》系列视频}相关内容.
\begin{example}{}{公理化定义}
    使用\autoref{def:公理化定义} 验证下述命题的正确性：
    \begin{enumerate}
        \item 若行列式有一列为零向量，则行列式的值等于0.

        \item 若行列式有两列元素相同，则行列式的值等于0.

        \item 若行列式有两列元素成比例，则行列式的值等于0.

        \item 对行列式做倍加列变换，行列式的值不变.

        \item 若$\alpha_1,\alpha_2,\ldots,\alpha_n$线性相关，则$D(\alpha_1,\alpha_2,\ldots,\alpha_n)=0$.
    \end{enumerate}
\end{example}

\begin{proof}
    \begin{enumerate}
        \item 由于行列式满足\autoref{def:公理化定义} 的\ref*{item:13:齐性}，设行列式第$i$列为零向量，因此
              \begin{align*}
                  D(\alpha_1,\ldots,0,\ldots,\alpha_n) & =D(\alpha_1,\ldots,0\cdot\alpha_i,\ldots,\alpha_n)  \\
                                                       & =0\cdot D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_n) \\
                                                       & =0
              \end{align*}

        \item 由于行列式满足\autoref{def:公理化定义} 的\ref*{item:13:反对称性}，设行列式第$i$列和第$j$列元素相同，因此
              \begin{align*}
                  D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n) & =D(\alpha_1,\ldots,\alpha_j,\ldots,\alpha_i,\ldots,\alpha_n)  \\
                                                                              & =-D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n)
              \end{align*}
              从而$D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n)=0$.

        \item 由于行列式满足\autoref{def:公理化定义} 的\ref*{item:13:齐性}，设行列式第$i$列和第$j$列元素成比例，$\alpha_i=k\alpha_j$，因此
              \begin{align*}
                  D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n)
                   & =D(\alpha_1,\ldots,k\alpha_j,\ldots,\alpha_j,\ldots,\alpha_n) \\
                   & =kD(\alpha_1,\ldots,\alpha_j,\ldots,\alpha_j,\ldots,\alpha_n) \\
                   & =0
              \end{align*}
              其中最后一个等号用到了本例的第二条结论.

        \item 事实上，根据\autoref{def:公理化定义} 的\ref*{item:13:加性} 以及本例第3条结论，我们可以得到
              \begin{align*}
                  D(\alpha_1,\ldots,\alpha_i+k\alpha_j,\ldots,\alpha_j,\ldots,\alpha_n)
                   & =D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n)   \\&+D(\alpha_1,\ldots,k\alpha_j,\ldots,\alpha_j,\ldots,\alpha_n) \\
                   & =D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n)+0 \\
                   & =D(\alpha_1,\ldots,\alpha_i,\ldots,\alpha_j,\ldots,\alpha_n).
              \end{align*}

        \item 设$\alpha_1,\alpha_2,\ldots,\alpha_n$线性相关，因此存在不全为0的数$k_1,k_2,\ldots,k_n$使得$k_1\alpha_1+k_2\alpha_2+\cdots+k_n\alpha_n=0$，不妨设$k_1 \neq 0$，因此
              \[\alpha_1=-\frac{k_2}{k_1}\alpha_2-\frac{k_3}{k_1}\alpha_3-\cdots-\frac{k_n}{k_1}\alpha_n,\]
              因此
              \begin{align*}
                  D(\alpha_1,\alpha_2,\ldots,\alpha_n) & =D(-\frac{k_2}{k_1}\alpha_2-\frac{k_3}{k_1}\alpha_3-\cdots-\frac{k_n}{k_1}\alpha_n,\alpha_2,\ldots,\alpha_n)     \\
                                                       & =-\frac{k_2}{k_1}D(\alpha_2,\alpha_2,\ldots,\alpha_n)-\cdots-\frac{k_n}{k_1}D(\alpha_n,\alpha_2,\ldots,\alpha_n) \\
                                                       & =0.
              \end{align*}
    \end{enumerate}
\end{proof}

\begin{example}{}{公理化定义2}
    设向量$\alpha_1,\alpha_2,\beta_1,\beta_2$为三维列向量，又$A=(\alpha_1,\alpha_2,\beta_1),B=(\alpha_1,\alpha_2,\beta_2)$，且$|A|=3$，$|B|=2$，求$|2A+3B|$.
\end{example}

\begin{solution}
    $2A+3B=(2\alpha_1+3\alpha_1,2\alpha_2+3\alpha_2,2\beta_1+3\beta_2)=(5\alpha_1,5\alpha_2,2\beta_1+3\beta_2)$，因此
    \begin{align*}
        |2A+3B| & =|5\alpha_1,5\alpha_2,2\beta_1+3\beta_2|                       \\
                & =25|\alpha_1,\alpha_2,2\beta_1+3\beta_2|                       \\
                & =25(2|\alpha_1,\alpha_2,\beta_1|+3|\alpha_1,\alpha_2,\beta_2|) \\
                & =25(2|A|+3|B|)=300.                                            \\
    \end{align*}
\end{solution}

\subsection{递归式定义}

首先我们需要引入余子式和代数余子式的概念：
\begin{definition}{}{余子式}
    在$n$阶行列式$D=|a_{ij}|_{n \times n}$中，去掉元素$a_{ij}$所在的第$i$行和第$j$列的所有元素而得到的$n-1$阶行列式称为元素$a_{ij}$的\term{余子式}\index{yuzishi@余子式 (minor)}，记作$M_{ij}$，并把数$A_{ij}=(-1)^{i+j}M_{ij}$称为元素$a_{ij}$的\term{代数余子式}\index{yuzishi!daishu@代数余子式 (cofactor)}.
\end{definition}
注意，虽然余子式和代数余子式在名称中含有式，但实际上他们是一个值. 实际上行列式也称为``式''，但这些``式''只是形状上有个形式，实际上只是一个值.
\begin{example}{}{余子式}
    根据\autoref{def:余子式} 计算行列式$\begin{vmatrix}
            2  & 1 & 3  \\
            -1 & 0 & 2  \\
            1  & 5 & -2
        \end{vmatrix}$每个元素的余子式和代数余子式.
\end{example}

\begin{solution}
    我们只举一个例子，第二行第一列元素$-1$的余子式和代数余子式. 根据定义，它的余子式是去掉第二行和第一列所有元素剩余的二阶行列式
    \[\begin{vmatrix}
            1 & 3  \\
            5 & -2
        \end{vmatrix}=-17,\]
    因此它的代数余子式是$A_{21}=(-1)^{2+1}(-17)=17$. 读者可以自行计算其他元素的余子式和代数余子式.
\end{solution}

接下来我们便可以给出递归式定义：
\begin{definition}{}{递归式定义}
    设$D=|a_{ij}|_{n \times n}$，则
    \begin{align}
        \label{eq:13:递归式定义1}
        D=\sum_{k=1}^{n}a_{kj}A_{kj}=a_{1j}A_{1j}+a_{2j}A_{2j}+\cdots+a_{nj}A_{nj} & \qquad j=1,2,\ldots,n \\
        \label{eq:13:递归式定义2}
        D=\sum_{k=1}^{n}a_{ik}A_{ik}=a_{i1}A_{i1}+a_{i2}A_{i2}+\cdots+a_{in}A_{in} & \qquad i=1,2,\ldots,n
    \end{align}
\end{definition}
其中$A_{ij}$即为\autoref{def:余子式} 给出的代数余子式，\autoref{eq:13:递归式定义1} 称为$D$对第$j$列的展开式，\autoref{eq:13:递归式定义2} 称为$D$对第$i$行的展开式. 事实上，这一定义被称为递归式定义的原因是显然的（如果在程序设计课程中已经学习过递归的概念），它使用$n-1$阶行列式定义$n$阶行列式，因此我们对任意$n$阶行列式都可以递归展开到1阶，从而得到最终行列式计算结果.

除此之外，我们需要强调的是，这里的递归式定义能称之为定义，必须要使得其与之前的公理化定义不冲突. 事实上二者等价的证明都是技术性的，教材175页定理5.1说明了我们如何从公理化定义推出递归式定义，反过来我们只需要对公理化定义中每个性质利用公理化定义逐个展开验算即可，我们放在习题中供感兴趣的读者自行验证. 因为都是技术性的问题，这里不展开叙述，事实上也不是我们核心的内容.
\begin{example}{}{递归式定义}
    利用\autoref{def:递归式定义} 计算\autoref{ex:余子式} 中的行列式，可以行列展开均使用并在上述公式中选取不同$i$和$j$以熟悉\autoref*{def:递归式定义}，并注意体会递归式定义的含义.
\end{example}

\begin{solution}
    我们选取$i=2$进行按行展开，由\autoref{def:余子式} 可知$A_{21}=17,A_{22}=-7,A_{23}=-9$，因此
    \begin{align*}
        D & =\sum_{k=1}^{3}a_{2k}A_{2k}              \\
          & =a_{21}A_{21}+a_{22}A_{22}+a_{23}A_{23}  \\
          & =(-1) \cdot 17+0 \cdot (-7)+2 \cdot (-9) \\
          & =-35.
    \end{align*}
    同理，我们选取$j=3$进行按列展开，由\autoref{def:余子式} 可知$A_{13}=-5,A_{23}=-9,A_{33}=1$，因此
    \begin{align*}
        D & =\sum_{k=1}^{3}a_{k3}A_{k3}             \\
          & =a_{13}A_{13}+a_{23}A_{23}+a_{33}A_{33} \\
          & =3 \cdot (-5)+2 \cdot (-9)+(-2) \cdot 1 \\
          & =-35.
    \end{align*}
    读者可以自行计算按其他行列展开的结果.
\end{solution}

递归式定义有一个重要的结论如下：
\begin{theorem}{}{递归性质}
    $n$阶行列式$D=|a_{ij}|_{n \times n}$的某一行（列）元素与另一行（列）相应元素的代数余子式的乘积之和等于0，即
    \begin{align}
        \label{eq:13:递归式定义3}
        \sum_{k=1}^{n}a_{kj}A_{ki}=a_{1j}A_{1i}+a_{2j}A_{2i}+\cdots+a_{nj}A_{ni}=0 & \qquad j \neq i \\
        \label{eq:13:递归式定义4}
        \sum_{k=1}^{n}a_{jk}A_{ik}=a_{j1}A_{i1}+a_{j2}A_{i2}+\cdots+a_{jn}A_{in}=0 & \qquad j \neq i
    \end{align}
\end{theorem}

我们简要说一下定理的证明. 虽然这一定理看着下标满天飞，似乎很难证明，但如果我们首先将第$j$列元素替换为第$i$列元素，然后根据\autoref{def:递归式定义} 按第$j$列展开求行列式，这一结果一定是0，因为此时矩阵第$i$和$j$两列完全相同. 同时我们发现，我们上面展开写出的式子就是\autoref{eq:13:递归式定义3}（注意此时$a_{ki}=a_{kj}$），由此得证.

到目前为止，读者可能对\crefrange*{eq:13:递归式定义1}{eq:13:递归式定义4} 式繁杂的下标感到陌生，因此安排了\crefrange*{ex:公理化定义2}{ex:递归式定义} 希望大家熟悉这些公式.
\begin{example}{}{递归式定义2}
    对\autoref{ex:递归式定义} 中的矩阵验证\autoref{thm:递归性质} 的正确性.
\end{example}

\begin{solution}
    例如我们选取第一行元素和第二行的代数余子式，由\autoref{def:余子式} 可知$A_{21}=17,A_{22}=-7,A_{23}=-9$，因此
    \begin{align*}
        D & =\sum_{k=1}^{3}a_{1k}A_{2k}             \\
          & =a_{11}A_{21}+a_{12}A_{22}+a_{13}A_{23} \\
          & =2 \cdot 17+1 \cdot (-7)+3 \cdot (-9)   \\
          & =0.
    \end{align*}
\end{solution}

这一节中行列式是按照一行（列）展开的，若按多行（列）展开则需要相应的 Laplace 定理，我们将在本讲之后的部分介绍.

\subsection{行列式的常用性质}

设$A,B \in \mathbf{F}^{n \times n}$，$k \in \mathbf{F}$，则
\begin{enumerate}
    \item 一般情况下，$|A \pm B| \neq |A|\pm|B|$；

    \item $|kA|=k^n|A|$；
          \begin{proof}
              由\autoref{def:公理化定义} 的\ref*{item:13:齐性}，设$A=(\alpha_1,\alpha_2,\ldots,\alpha_n)$，则
              \begin{align*}
                  |kA| & =|k\alpha_1,k\alpha_2,\ldots,k\alpha_n| \\
                       & =k^n|\alpha_1,\alpha_2,\ldots,\alpha_n| \\
                       & =k^n|A|.
              \end{align*}
          \end{proof}

    \item \label{item:13:行列式性质:4}
          初等矩阵行列式（注意初等矩阵不分行列，左乘右乘区分初等行列变换）：\\
          $|E_{ij}|=-1,\enspace |E_i(c)|=c,\enspace |E_{ij}(k)|=1$；

    \item 利用 \ref*{item:13:行列式性质:4} 中的结论可以得到$|AB|=|A||B|,\enspace|A^k|=|A|^k$；

    \item 利用 \ref*{item:13:行列式性质:4} 中的结论可以得到$A$可逆$\iff |A| \neq 0$；

    \item 利用 \ref*{item:13:行列式性质:4} 中的结论可以得到$|A^\mathrm{T}|=|A|$；

    \item 利用 \ref*{item:13:行列式性质:4} 中的结论可以得到上、下三角矩阵行列式均为主对角线元素的乘积；

    \item 利用 \ref*{item:13:行列式性质:4} 中的结论（求出初等矩阵逆矩阵行列式）可以得到若$A$可逆，则$|A^{-1}|=|A|^{-1}$.
          \begin{proof}
              由$|AB|=|A||B|$，设$B=A^{-1}$，则$|E|=|AA^{-1}|=|A||A^{-1}|$，因此$|A||A^{-1}|=1$，从而$|A^{-1}|=|A|^{-1}$.
          \end{proof}
\end{enumerate}

以上性质都可以基于定义或上述其他性质得到，其中3-6条可参考教材5.3节，7可参考教材172页例3. 这些性质结论希望读者熟悉，实际上推导过程重要性不大，虽然也并不复杂. 下面介绍的性质需要用到``打洞法''（分块矩阵初等变换）来证明：

\begin{enumerate}
    \item $\begin{vmatrix}
                  A & O \\ O & B
              \end{vmatrix} = \begin{vmatrix}
                  A & O \\ C & B
              \end{vmatrix} = \begin{vmatrix}
                  A & D \\ O & B
              \end{vmatrix} = |A||B|,\enspace\begin{vmatrix}
                  O & A \\ B & C
              \end{vmatrix} = (-1)^{kr}|A||B|$（其中$A$为$k$阶方阵，$B$为$r$阶方阵）；
          \begin{proof}
              证明从略，感兴趣的读者可以参考教材179页例2，实际上我们很多时候只需要基于这些结论证明进一步的性质.
          \end{proof}

    \item 当$A$可逆时，有$\begin{vmatrix}
                  A & B \\ C & D
              \end{vmatrix} = |A||D-CA^{-1}B|$，当$D$可逆时，有$\begin{vmatrix}
                  A & B \\ C & D
              \end{vmatrix} = |D||A-BD^{-1}C|$，当$B$可逆时，有$\begin{vmatrix}
                  A & B \\ C & D
              \end{vmatrix} = (-1)^{mn}|B||C-DB^{-1}A|$，当$C$可逆时，有$\begin{vmatrix}
                  A & B \\ C & D
              \end{vmatrix} = (-1)^{mn}|C||B-AC^{-1}D|$；
          \begin{proof}
              由于
              \[\begin{pmatrix}
                      E & O \\ -CA^{-1} & E
                  \end{pmatrix}\begin{pmatrix}
                      A & B \\ C & D
                  \end{pmatrix}= \begin{pmatrix}
                      A & B \\ O & D-CA^{-1}B
                  \end{pmatrix},\]
              两边取行列式，并注意到
              \[\begin{vmatrix}
                      E & O \\ -CA^{-1} & E
                  \end{vmatrix}=1,\]
              因此
              \[\begin{vmatrix}
                      A & B \\ C & D
                  \end{vmatrix}=\begin{vmatrix}
                      A & B \\ O & D-CA^{-1}B
                  \end{vmatrix}=|A||D-CA^{-1}B|.\]

              读者会发现，我们在上面的证明中多次使用$\begin{vmatrix}
                      A & O \\ C & B
                  \end{vmatrix} = \begin{vmatrix}
                      A & D \\ O & B
                  \end{vmatrix} = |A||B|$这一性质，因此这一性质是相当重要的，需要读者熟悉.

              本条的其他结论推导类似于上方，在此不再赘述，感兴趣的读者可以自行推导（关键在于第三类分块初等矩阵行列式为1），实际上结论并不是很重要，重要的是在于领悟使用行列式分块计算性质和打洞法的基本方法.
          \end{proof}

          根据上面的结论，如果$A$和$D$均可逆时，我们有$|A||D-CA^{-1}B|=|D||A-BD^{-1}C|$，这一公式称为\term{降阶公式}. 若$A$为高阶矩阵，$D$为低阶矩阵，则利用降阶公式可以有效减少计算量. 例如：

          \begin{example}{}{}
              求下列矩阵行列式的值：
              \[A=\begin{pmatrix}
                      a_1^2    & a_1a_2   & \cdots & 1+a_1a_n \\
                      1+a_2a_1 & a_2^2    & \cdots & 1+a_2a_n \\
                      \vdots   & \vdots   & \ddots & \vdots   \\
                      1+a_na_1 & 1+a_na_2 & \cdots & a_n^2
                  \end{pmatrix}.\]
          \end{example}

          \begin{solution}
              我们可以将 $A$ 化为

              \[ A = -E_n + \begin{pmatrix}
                      a_1 & 1 \\ a_2 & 1 \\ \vdots & \vdots \\ a_n & 1
                  \end{pmatrix} E_2^{-1} \begin{pmatrix}
                      a_1 & a_2 & \cdots & a_n \\ 1 & 1 & \cdots & 1
                  \end{pmatrix} \]

              故根据降阶公式有

              \begin{align*}
                  |A| & = \left\vert-E_n +
                  \begin{pmatrix}
                      a_1 & 1 \\ a_2 & 1 \\ \vdots & \vdots \\ a_n & 1
                  \end{pmatrix} E_2^{-1}
                  \begin{pmatrix}
                      a_1 & a_2 & \cdots & a_n \\ 1 & 1 & \cdots & 1
                  \end{pmatrix}\right\vert                                                                       \\
                      & = (-1)^n \left|E_2 -
                  \begin{pmatrix}
                      \sum\limits_{i=1}^n a_i^2 & \sum\limits_{i=1}^n a_i \\[2ex]
                      \sum\limits_{i=1}^n a_i   & n
                  \end{pmatrix}\right|                                                          \\
                      & = (-1)^n \left((1-n)\left(1-\sum\limits_{i=1}^n a_i^2\right) - \left(\sum\limits_{i=1}^n a_i\right)^2\right).
              \end{align*}
          \end{solution}

    \item 设$A,B$分别是$n \times m$和$m \times n$矩阵，则$|E_n \pm AB|=|E_m \pm BA|$，且 \\
          $|\lambda E_n \pm AB|=\lambda^{n-m}|\lambda E_m \pm BA|,\enspace n \geqslant m$.
          \begin{proof}
              由前述第二条性质直接可得
              \[|E_n \pm AB|=\begin{vmatrix}
                      E_n & A \\ \mp B & E_m
                  \end{vmatrix}=|E_m \pm BA|,\]
              也有
              \begin{align*}
                  |\lambda E_n \pm AB|
                   & =\begin{vmatrix}
                          \lambda E_n & A \\ \mp B & E_m
                      \end{vmatrix}=\lambda^n
                  \begin{vmatrix}
                      E_n & \lambda^{-1}A \\ \mp B & E_m
                  \end{vmatrix}=\lambda^{n-m}\begin{vmatrix}
                                                 E_n & A \\ \mp B & E_m
                                             \end{vmatrix} \\
                   & = \lambda^{n-m}|\lambda E_m \pm BA|.
              \end{align*}
              其中第一行第二个等号来源于前$n$行每行提出一个$\lambda$，第一行第三个等号来源于后$m$列每列乘以$\lambda$.
          \end{proof}

          事实上，这里的结果在特征值与特征向量的部分中我们会给出更深入的解释.
\end{enumerate}

还有一部分由这些性质可以推导的其他性质将出现在C组习题中供参考. 这部分主要是技巧性内容，可以选择性完成.

\section{行列式的基本运算}

首先我们用一个简单的三阶行列式的例子回顾行列式的多种最基本的计算方法. 这里选取三阶行列式主要原因也是三阶行列式在未来实际解题中最为常见，这里希望读者比较选择最适合自己的方法在未来更便捷地使用：
\begin{example}{}{行列式基本运算}
    计算行列式$D=\begin{vmatrix}
            1 & 2 & 3 \\
            2 & 3 & 1 \\
            3 & 1 & 2
        \end{vmatrix}$.
\end{example}

\begin{solution}
    \begin{enumerate}
        \item （公理化定义与性质）参考教材171页例2的方法，此处展开较为复杂不再赘述，也不推荐使用这一方法.

        \item （化为上三角形式）参考教材172页例4，具体过程不在此展开.

        \item （递归式定义展开）我们对第一行展开，由\autoref{def:递归式定义} 可知
              \begin{align*}
                  D & =1 \cdot
                  \begin{vmatrix}
                      3 & 1 \\
                      1 & 2
                  \end{vmatrix} - 2
                  \cdot \begin{vmatrix}
                            2 & 1 \\
                            3 & 2
                        \end{vmatrix}+3
                  \cdot \begin{vmatrix}
                            2 & 3 \\
                            3 & 1
                        \end{vmatrix}                           \\
                    & =1 \cdot (6-1)-2 \cdot (4-3)+3 \cdot (2-9) \\
                    & =-18.
              \end{align*}
    \end{enumerate}
\end{solution}

\subsection{逆序数定义}

给定一个行列式
\[|A| = \begin{vmatrix}
        a_{11} & a_{12} & \cdots & a_{1n} \\
        a_{21} & a_{22} & \cdots & a_{2n} \\
        \vdots & \vdots & \ddots & \vdots \\
        a_{n1} & a_{n2} & \cdots & a_{nn}
    \end{vmatrix},\]
到目前为止，根据上面的例题我们已经有三种基本方法来计算行列式的值. 但是，有的读者或许对这三种逐步展开或变换的方法感到繁琐：或许我们可以直接写出一个公式来计算行列式的值？当然这样的公式需要我们通过逐步的展开或变换来得到.

我们使用公理化定义来展开这一行列式，为了叙述方便，我们记 $A = (\alpha_1,\ldots,\alpha_n)$，并记 $e_i$ 为 $n$ 维单位向量，即 $e_i = (0,\ldots,1,\ldots,0)$，其中 $1$ 在第 $i$ 个位置. 这样，行列式的第 $j$ 列就可以表达为

\[\alpha_j = a_{1j}e_1 + a_{2j}e_2 + \cdots + a_{nj}e_n = \sum_{i=1}^{n}a_{ij}e_i.\]

于是，根据行列式公理化定义\autoref{def:公理化定义} 的线性性质，我们有

\begin{align*}
    |A| & = |\alpha_1,\alpha_2,\ldots,\alpha_n| = |\sum\limits_{i=1}^{n}a_{i1}e_i,\alpha_2,\ldots,\alpha_n| \\
        & = \sum\limits_{i=1}^{n}a_{i1}|e_i,\alpha_2,\ldots,\alpha_n|.
\end{align*}

对行列式 $|e_i,\alpha_2,\ldots,\alpha_n|$ 继续展开，由 $\alpha_2 = \sum\limits_{j=1}^{n}a_{j2}e_j$，我们有

\[|e_i,\alpha_2,\ldots,\alpha_n| = \sum\limits_{j=1}^{n}a_{j2}|e_i,e_j,\alpha_3,\ldots,\alpha_n|.\]

于是 $|A| = \sum\limits_{i=1}^{n}\sum\limits_{j=1}^{n}a_{i1}a_{j2}|e_i,e_j,\alpha_3,\ldots,\alpha_n|$. 不断展开，我们最终得到

\[|A| = \sum\limits_{k_1,k_2,\ldots,k_n} a_{k_11}a_{k_22}\cdots a_{k_nn}|e_{k_1},e_{k_2},\ldots,e_{k_n}|.\]

注意行列式 $|e_{k_1},e_{k_2},\ldots,e_{k_n}|$ 在某对 $k_i,k_j$ 重复时的值为 $0$，所以在不为 $0$ 的项中，$(k_1,k_2,\ldots,k_n)$ 必定是 $(1,2,\ldots,n)$ 的一个全排列，即在 $k_1,k_2,\ldots,k_n$ 中，$1,2,\ldots,n$ 中每个数都出现且仅出现一次. 设 $S_n$ 为 $1,2,\ldots,n$ 所有全排列构成的集合，那么 $S_n$ 的元素个数为 $n!$.

进一步地，当 $(k_1,k_2,\ldots,k_n) \in S_n$ 时，行列式 $|e_{k_1},e_{k_2},\ldots,e_{k_n}|$ 的每一行、每一列都有且只有一个元素等于 $1$，其余元素都等于 $0$，因此 $|e_{k_1},e_{k_2},\ldots,e_{k_n}| = \pm 1$，因此 $|A|$ 的展开式一共有 $n!$ 项，可以表达为

\[|A| = \sum\limits_{k_1,k_2,\ldots,k_n} (-1)^\varepsilon a_{k_11}a_{k_22}\cdots a_{k_nn},\]

那么接下来的任务就是确定每项 $-1$ 的幂次，这显然与行列对换得到 $|e_1,e_2,\ldots,e_n| = 1$ 的次数有关，因此 $\varepsilon$ 只和 $k_1,k_2,\ldots,k_n$ 的取值有关. 接下来我们引入逆序数的概念来帮助我们确定 $\varepsilon$ 的值：

\begin{definition}{逆序数}{}
    设 $k_1,k_2,\ldots,k_n \in S_n$，如果 $i < j$ 且 $k_i > k_j$，则称 $k_i,k_j$ 是这个排列的一个\term{逆序对}\index{nixudui@逆序对}，排序中所有逆序对的总数称为这个排列的\term{逆序数}\index{nixushu@逆序数}，记作 $\tau(k_1,k_2,\ldots,k_n)$.
\end{definition}

逆序数的定义是非常易懂的，就是位置在前但数值更大的情况出现的次数. 直观上来看，逆序数衡量了与\term{常序排列} $(1,2,\ldots,n)$ 之间的距离，逆序数越大，排列与常序排列的差距越大. 逆序数的求法也非常简单：设排列为 $(k_1,k_2,\ldots,k_n)$，那么我们先看 $k_1$ 后面有多少个数比 $k_1$ 小，然后看 $k_2$ 后面有多少个数比 $k_2$ 小，以此类推，最后将所有这些数相加即可. 我们来看一个简单的例子：

\begin{example}{}{}
    求排列 $(3,1,4,2)$ 的逆序数.
\end{example}

\begin{solution}
    我们可以直接计算：$3$ 后面有 $2$ 个数比 $3$ 小，$1$ 后面没有数比 $1$ 小，$4$ 后面有 $1$ 个数比 $4$ 小，$2$ 后面没有数比 $2$ 小，因此逆序数为 $2+0+1+0=3$.
\end{solution}

基于逆序数的定义，我们可以将排列做一个简单的分类：

\begin{definition}{奇排列和偶排列}{}
    如果一个排列的逆序数是偶数（包括零），则称这个排列是\term{偶排列}\index{oupailie@偶排列}；如果一个排列的逆序数是奇数，则称这个排列是\term{奇排列}\index{jipailie@奇排列}.
\end{definition}

不难证明奇偶排列有如下简单的性质：
\begin{example}{奇偶排列的性质}{}
    \begin{enumerate}
        \item 设 $(k_1,k_2,\ldots,k_n) \in S_n$，若将 $k_i$ 与 $k_j$ 交换，其余数不动，那么排列的奇偶性会改变；
        \item 设 $n \geqslant 2$，则 $S_n$ 中奇排列和偶排列的个数相等.
    \end{enumerate}
\end{example}

\begin{proof}
    \begin{enumerate}
        \item 首先我们考虑相邻两个数的对换. 若 $k_i > k_{i+1}$，则对换后逆序数会减少 $1$，因此奇偶性会改变；若 $k_i < k_{i+1}$，则对换后逆序数会增加 $1$，奇偶性也会改变. 对于一般情形，$k_i$ 和 $k_j$ 的对换可以通过多次相邻两个数的对换来实现：不妨设 $i < j$，那么我们可以先将 $k_i$ 与 $k_{i+1}$ 对换，然后与 $k_{i+2}$ 对换，以此类推，最后与 $k_j$ 对换，这样就可以将 $k_i$ 和 $k_j$ 对换（一共对换了 $j-i$ 次）；接下来还需要将 $k_j$ 与 $k_{j-1}$ 对换，然后与 $k_{j-2}$ 对换，以此类推，最后与 $k_{i+1}$ 对换（一共对换了 $j-i-1$ 次），这样就可以将 $k_j$ 和 $k_i$ 对换. 因此，总的相邻对换次数为 $j-i+j-i-1=2(j-i)-1$，奇偶性会改变.
        \item 设 $S_n$ 中奇排列有 $p$ 个，偶排列有 $q$ 个，因为 $n \geqslant 2$，故可以将每个奇排列的头两个数对换一下，则所有的奇排列都变成了互不相同的偶排列，故 $p \leqslant q$；同理，可以将每个偶排列的头两个数对换一下，所有的偶排列都变成了互不相同的奇排列，故 $q \leqslant p$，因此 $p = q$.
    \end{enumerate}
\end{proof}

讨论到此，我们终于可以给出逆序数与行列式展开中每项的符号之间的联系：

\begin{theorem}{}{}
    设 $(k_1,k_2,\ldots,k_n) \in S_n$，则通过 $\tau(k_1,k_2,\ldots,k_n)$ 次相邻对换可以将 $(k_1,k_2,\ldots,k_n)$ 变为 $(1,2,\ldots,n)$，因此 $\varepsilon = \tau(k_1,k_2,\ldots,k_n)$.
\end{theorem}

\begin{proof}
    对 $n$ 进行归纳. $n=1$ 时结论显然成立，设对 $1,2,\ldots,n-1$ 的任一排列结论成立，我们来证明 $n$ 的情形. 设 $n$ 在排列 $(k_1,\ldots,k_n)$ 的第 $i$ 位，即 $k_i = n$，$n$ 贡献的逆序数为 $m_i = n - i$. 将 $k_i$ 与 $k_{i+1}$ 对换，再与 $k_{i+2}$ 对换，以此类推，最后与 $k_n$ 对换，这样 $n$ 就到了第 $n$ 位. 注意到

    \[ \tau(k_1,\ldots,k_n) = \tau(k_1,\ldots,k_{i-1},k_{i+1},\ldots,n) + m_i,\]

    且 $(k_1,\ldots,k_{i-1},k_{i+1},\ldots,n) \in S_{n-1}$，由归纳假设知 $(k_1,\ldots,k_{i-1},k_{i+1},\ldots,n)$ 经过 $\tau(k_1,\ldots,k_{i-1},k_{i+1},\ldots,n)$ 次相邻对换可以变为 $(1,2,\ldots,n-1)$，结合上面的讨论可知 $(k_1,\ldots,k_n)$ 经过 $\tau(k_1,\ldots,k_n)$ 次相邻对换可以变为 $(1,2,\ldots,n)$，因此 $\varepsilon = \tau(k_1,\ldots,k_n)$.
\end{proof}

由此我们可以得到行列式的逆序数定义：

\begin{theorem}{行列式的逆序数定义}{}
    设
    \[|A| = \begin{vmatrix}
            a_{11} & a_{12} & \cdots & a_{1n} \\
            a_{21} & a_{22} & \cdots & a_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{n1} & a_{n2} & \cdots & a_{nn}
        \end{vmatrix},\]
    则 $|A| = \sum\limits_{(k_1,k_2,\ldots,k_n) \in S_n} (-1)^{\tau(k_1,k_2,\ldots,k_n)}a_{k_11}a_{k_22}\cdots a_{k_nn}$.
\end{theorem}

根据逆序数定义，我们可以重解 \autoref{ex:行列式基本运算} 中的行列式：
\begin{solution}
    我们知道三阶行列式的逆序数计算公式为 $D=\begin{vmatrix}
            a_{11} & a_{12} & a_{13} \\
            a_{21} & a_{22} & a_{23} \\
            a_{31} & a_{32} & a_{33}
        \end{vmatrix}=a_{11}a_{22}a_{33}+a_{12}a_{23}a_{31}+a_{13}a_{21}a_{32}-a_{13}a_{22}a_{31}-a_{12}a_{21}a_{33}-a_{11}a_{23}a_{32}$，因此$D=1 \cdot 3 \cdot 2+2 \cdot 1 \cdot 3+3 \cdot 2 \cdot 1-3 \cdot 3 \cdot 3-2 \cdot 2 \cdot 2-1 \cdot 1 \cdot 1=-18$.
\end{solution}

下面的例子会让我们更进一步地理解逆序数定义中``排列''的含义：
\begin{example}{}{}
    设
    \[f(x)=\begin{vmatrix}
            x-a_{11} & -a_{12}  & \cdots & -a_{1n}  \\
            -a_{21}  & x-a_{22} & \cdots & -a_{2n}  \\
            \vdots   & \vdots   & \ddots & \vdots   \\
            -a_{n1}  & -a_{n2}  & \cdots & x-a_{nn}
        \end{vmatrix},\]
    其中$x$是未知数，$a_{ij}$是常数，证明：$f(x)$是一个最高次项系数为1的$n$次多项式，且其$n-1$次项的系数等于$-(a_{11}+\cdots+a_{nn})$.
\end{example}

\begin{proof}
    根据逆序数定义，我们知道 $f(x)$ 的最高次项出现在展开式中的单项 $(x-a_{11})(x-a_{22})\cdots(x-a_{nn})$ 中，且展开式中的其他单项作为 $x$ 的多项式的次数必定小于等于 $n-2$（因为我们要求 $(k_1,\ldots,k_n)$ 是全排列）. 因此 $f(x)$ 是一个最高次项系数为 $1$ 的 $n$ 次多项式，且其 $n-1$ 次项的系数只能来源于 $(x-a_{11})(x-a_{22})\cdots(x-a_{nn})$，故等于 $-(a_{11}+\cdots+a_{nn})$.
\end{proof}

\subsection{范德蒙（Vandermonde）行列式}
接下来我们需要介绍一个非常重要的行列式，我们称之为范德蒙（Vandermonde）行列式：
\begin{example}{}{}
    证明：$n$阶范德蒙行列式
    \[V_n=\begin{vmatrix}
            1         & 1         & \cdots & 1         \\
            x_1       & x_2       & \cdots & x_n       \\
            \vdots    & \vdots    & \ddots & \vdots    \\
            x_1^{n-1} & x_2^{n-1} & \cdots & x_n^{n-1}
        \end{vmatrix}=\prod_{1 \leqslant i < j \leqslant n}(x_j-x_i)\]
\end{example}

\begin{proof}
    这里的证明使用的是归纳法. 当$n=2$时，易知$V_2=x_2-x_1$，结论成立. 假设结论对$n-1$阶范德蒙行列式成立，那么对于$V_n$，从第$n$行起，依次将前一行乘$(-x_1)$加到后一行，可以得到\begin{align*}
        V_n & = \begin{vmatrix}
                    1      & 1                  & \cdots & 1                  \\
                    0      & x_2-x_1            & \cdots & x_n-x_1            \\
                    0      & x_2(x_2-x_1)       & \cdots & x_n(x_n-x_1)       \\
                    \vdots & \vdots             & \ddots & \vdots             \\
                    0      & x_2^{n-2}(x_2-x_1) & \cdots & x_n^{n-2}(x_n-x_1)
                \end{vmatrix} \\
            & = (x_2-x_1)(x_3-x_1)\cdots(x_n-x_1)
        \begin{vmatrix}
            1      & 1         & \cdots & 1         \\
            0      & x_2       & \cdots & x_n       \\
            0      & x_2^2     & \cdots & x_n^2     \\
            \vdots & \vdots    & \ddots & \vdots    \\
            0      & x_2^{n-2} & \cdots & x_n^{n-2}
        \end{vmatrix}
    \end{align*}
    上式右端为是关于$x_2,x_3,\ldots,x_n$的$n-1$阶范德蒙行列式，根据归纳假设，我们有
    \begin{align*}
        V_n & = (x_2-x_1)(x_3-x_1)\cdots(x_n-x_1)\prod_{2 \leqslant i < j \leqslant n}(x_j-x_i) \\
            & = \prod_{1 \leqslant i < j \leqslant n}(x_j-x_i).
    \end{align*}
\end{proof}

我们需要强调的是范德蒙行列式的重要性，事实上，范德蒙行列式有着广泛的应用，在之后不少的习题中我们将使用它. 在此我们证明\autoref{thm:覆盖定理} 的有限维情形作为一个例子：
\begin{example}{}{行列式证明覆盖定理}
    设$V_1,V_2,\ldots,V_s$是有限维线性空间$V$的$s$个非平凡子空间，证明：$V$中至少存在一个向量不属于$V_1,V_2,\ldots,V_s$中的任何一个，即$V_1 \cup V_2 \cup \cdots \cup V_s\subsetneq V$.
\end{example}

\begin{proof}
    设$\dim V=n$，设$\alpha_1,\alpha_2,\ldots,\alpha_n$为$V$的一组基，构造向量组$\{\beta_k\}$中每个元素满足
    \[\beta_k=\alpha_1+k\alpha_2+\cdots+k^{n-1}\alpha_n,\enspace k=1,2,3,\ldots\]
    任取上述向量组中的$n$个向量$\beta_{k_1},\beta_{k_2},\ldots,\beta_{k_n}$，其中$k_1<k_2<\cdots<k_n$，则有
    \[(\beta_{k_1},\beta_{k_2},\ldots,\beta_{k_n})=(\alpha_1,\alpha_2,\ldots,\alpha_n)C\]
    其中
    \[C=\begin{pmatrix}
            1         & 1         & \cdots & 1         \\
            k_1       & k_2       & \cdots & k_n       \\
            \vdots    & \vdots    & \ddots & \vdots    \\
            k_1^{n-1} & k_2^{n-1} & \cdots & k_n^{n-1}
        \end{pmatrix}\]
    则$|C|$是一个范德蒙行列式. 由范德蒙行列式的性质可知$|C| \neq 0$，因此$C$可逆. 又由于$\alpha_1,\alpha_2,\ldots,\alpha_n$是$V$的一组基，因此$\beta_{k_1},\beta_{k_2},\ldots,\beta_{k_n}$线性无关，从而向量组$\{\beta_k\}$中任意$n$个向量均构成$V$的一组基.

    由于$V_1,V_2,\ldots,V_s$是$V$的非平凡子空间，因此每个子空间最多包含$\{\beta_k\}$中$n-1$个向量，进而$V_1\cup V_2\cup\cdots\cup V_s$只包含$\{\beta_k\}$中有限个向量，所以必然存在一个向量$\beta_j$使得$\beta_j \notin V_1\cup V_2\cup\cdots\cup V_s$.
\end{proof}

除此之外教材上还有一些基于递推的方法的例子，我们将会在下一讲中展开介绍这一方法以及其它技巧性更强的方法.

\section{行列式计算技巧}

一个核心：观察行列式的特征，通过用一行消去其它所有行或者通过逐行相减化出更多的 $0$，得到模板行列式（例如上三角、箭形等）求解；或者其它的一些明显的技巧性方法例如递推法.

\subsection{化三角形法}

因为三角形矩阵的行列式等于对角线元素的乘积，所以将行列式化为三角形矩阵的行列式是一种常用的计算方法.

\begin{example}{}{}
    计算行列式$D_{n+1}=\begin{vmatrix}
            1      & a_{1}       & a_{2}       & \cdots & a_n       \\
            1      & a_{1}+b_{1} & a_{2}       & \cdots & a_n       \\
            1      & a_{1}       & a_{2}+b_{2} & \cdots & a_n       \\
            \vdots & \vdots      & \vdots      & \ddots & \vdots    \\
            1      & a_{1}       & a_{2}       & \cdots & a_n+b_{n}
        \end{vmatrix}$.
\end{example}

\begin{solution}
    观察这个行列式的特点，主对角线下方的元素与第 1 行元素对应相同，故用第 1 行的 $-1$ 倍加到下面各行便可使主对角线下方的元素全部变为0，即化为上三角形.
    \[ D_{n+1}=\begin{vmatrix}
            1 & a_{1} & a_{2} & \ldots & a_n   \\
              & b_{1} &       &        &       \\
              &       & b_{2} &        &       \\
              &       &       & \ddots &       \\
              &       &       &        & b_{n}
        \end{vmatrix}=\prod_{i=1}^n b_i \]
\end{solution}

\begin{example}{}{}
    计算$n$阶行列式，其中$a_i\neq 0\enspace(i=2,\ldots,n)$：
    \[|A|=\begin{vmatrix}
            a_1    & b_2    & b_3    & \cdots & b_n    \\
            c_2    & a_2    & 0      & \cdots & 0      \\
            c_3    & 0      & a_3    & \cdots & 0      \\
            \vdots & \vdots & \vdots & \ddots & \vdots \\
            c_n    & 0      & 0      & \cdots & a_n
        \end{vmatrix}.\]
\end{example}

\begin{solution}
    这一行列式因为形似箭头而被称为箭形行列式，将第$i\enspace(2\leqslant i\leqslant n)$列乘以$-c_i/a_i$加到第一列上可以消去第一列所有的$c_i$得到上三角矩阵，最后答案为$(a_1-\sum\limits_{i=2}^n\dfrac{b_ic_i}{a_i})a_2a_3\cdots a_n$.
\end{solution}

箭形行列式可以当作一种模板来解决其它问题：

\begin{example}{}{}
    计算$n$阶行列式，其中$a_i\neq 0,\enspace i=1,\ldots,n$：
    \[|A|=\begin{vmatrix}
            x_1-a_1 & x_2     & x_3     & \cdots & x_n     \\
            x_1     & x_2-a_2 & x_3     & \cdots & x_n     \\
            x_1     & x_2     & x_3-a_3 & \cdots & x_n     \\
            \vdots  & \vdots  & \vdots  & \ddots & \vdots  \\
            x_1     & x_2     & x_3     & \cdots & x_n-a_n
        \end{vmatrix}.\]
\end{example}

\begin{solution}
    第一行乘以-1依次加到其它行上去可以得到一个箭形行列式，使用上一例题的结论可知答案为\[(-1)^na_1a_2\cdots a_n(\sum\limits_{i=1}^n\dfrac{x_i}{a_i}-1).\]
\end{solution}

\subsection{连加法}

这种方法的运用场景通常是矩阵的每行或每列总和相等，这时我们可以将每行或每列的元素分别累加到第一行或第一列上，从而使得第一行或第一列的元素全部相同，然后将第一行或第一列的元素提取出来，得到一个新的行列式形式，进而继续使用其他方法计算.

\begin{example}{}{}
    计算行列式$D_n=\begin{vmatrix}
            x_1-m  & x_2    & \cdots & x_n    \\
            x_1    & x_2-m  & \cdots & x_n    \\
            \vdots & \vdots & \ddots & \vdots \\
            x_1    & x_2    & \cdots & x_n-m
        \end{vmatrix}$.
\end{example}

这一例子事实上是前一个例子的特例，但我们这里展示连加法的运用，也体现一题多解的趣味性.

\begin{solution}
    观察到每一行的和都是相同的，所以我们可以将每一列都累加到第一列上，得到
    \begin{align*}
        D_n & =\begin{vmatrix}
                   \displaystyle\sum_{i=1}^{n} x_i-m & x_2    & \cdots & x_n    \\
                   \displaystyle\sum_{i=1}^{n} x_i-m & x_2-m  & \cdots & x_n    \\
                   \vdots                            & \vdots & \ddots & \vdots \\
                   \displaystyle\sum_{i=1}^{n} x_i-m & x_2    & \cdots & x_n-m
               \end{vmatrix} \\
            & =\left(\sum_{i=1}^{n} x_i-m\right)
        \begin{vmatrix}
            1      & x_2    & \cdots & x_n    \\
            1      & x_2-m  & \cdots & x_n    \\
            \vdots & \vdots & \ddots & \vdots \\
            1      & x_2    & \cdots & x_n-m
        \end{vmatrix}                                   \\
            & =\left(\sum_{i=1}^{n} x_i-m\right)
        \begin{vmatrix}
            1 & x_2 & \cdots & x_n \\
              & -m  &        &     \\
              &     & \ddots &     \\
              &     &        & -m
        \end{vmatrix}                                              \\
            & =(-m)^{n-1}\left(\sum_{i=1}^{n} x_i-m\right)
    \end{align*}
\end{solution}

\subsection{滚动消去法}

当行列式每两行的值比较接近时，可采用让邻行中的某一行减或者加上另一行的若干倍, 这种方法称为滚动消去法.

\begin{example}{}{}
    计算行列式$D_n=\begin{vmatrix}
            1      & 2      & 3      & \cdots & n-1    & n      \\
            2      & 1      & 2      & \cdots & n-2    & n-1    \\
            3      & 2      & 1      & \cdots & n-3    & n-2    \\
            \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
            n-1    & n-2    & n-3    & \cdots & 1      & 2      \\
            n      & n-1    & n-2    & \cdots & 2      & 1
        \end{vmatrix},\enspace n \geqslant 2$.
\end{example}

\begin{solution}
    这是一个循环行列式，这种行列式的特点是相邻的行或列之间有共同的变化规律，所以我们可以使用“差分”的思想，从最后一行开始每行减去上一行
    \begin{align*}
        D_n & =\begin{vmatrix}
                   1      & 2      & 3      & \cdots & n-1    & n      \\
                   1      & -1     & -1     & \cdots & -1     & -1     \\
                   1      & 1      & -1     & \cdots & -1     & -1     \\
                   \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
                   1      & 1      & 1      & \cdots & -1     & -1     \\
                   1      & 1      & 1      & \cdots & 1      & -1
               \end{vmatrix}=\begin{vmatrix}
                                 1      & 2      & 3      & \cdots & n-1    & n      \\
                                 2      & 0      & 0      & \cdots & 0      & -2     \\
                                 2      & 2      & 0      & \cdots & 0      & -2     \\
                                 \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
                                 2      & 2      & 2      & \cdots & 0      & -2     \\
                                 1      & 1      & 1      & \cdots & 1      & -1
                             \end{vmatrix} \\
            & =\begin{vmatrix}
                   1      & 2      & 3      & \cdots & n-1    & n+1    \\
                   2      & 0      & 0      & \cdots & 0      & 0      \\
                   2      & 2      & 0      & \cdots & 0      & 0      \\
                   \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
                   2      & 2      & 2      & \cdots & 0      & 0      \\
                   1      & 1      & 1      & \cdots & 1      & 0
               \end{vmatrix}=2^{n-2}
        \begin{vmatrix}
            1      & 2      & 3      & \cdots & n-1    & n+1    \\
            1      & 0      & 0      & \cdots & 0      & 0      \\
            1      & 1      & 0      & \cdots & 0      & 0      \\
            \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
            1      & 1      & 1      & \cdots & 0      & 0      \\
            1      & 1      & 1      & \cdots & 1      & 0
        \end{vmatrix}                      \\
            & =(-1)^{n+1}(n+1) 2^{n-2}
    \end{align*}
\end{solution}

\subsection{降阶法}

将高阶行列式化为低阶行列式再求解，通常会使用按行展开或按列展开的方法以及分块对角矩阵行列式的性质来进行计算.

\begin{example}{}{}
    解行列式$D_n=\begin{vmatrix}
            x     & -1    &        &         &         \\
                  & x     & \ddots &         &         \\
                  &       & \ddots & -1      &         \\
                  &       &        & x       & -1      \\
            a_{0} & a_{1} & \cdots & a_{n-2} & a_{n-1}
        \end{vmatrix}$
\end{example}

\begin{solution}
    按最后一行展开，得
    \begin{align*}
        D_n & =\sum_{i=0}^{n-1}(-1)^{n+i+1}a_i\begin{vmatrix} A & O \\ O & B \end{vmatrix}
        =\sum_{i=0}^{n-1}(-1)^{n+i+1}a_i|A||B|                                                        \\
            & =\sum_{i=0}^{n-1}(-1)^{n+i+1}a_i(x^i)\left((-1)^{n-1-i}\right) =\sum_{i=0}^{n-1}a_i x^i
    \end{align*}

    其中$A\in \mathbf{M}_i(\mathbf{R}),\enspace B\in \mathbf{M}_{n-1-i}(\mathbf{R})$，
    \[ A=\begin{pmatrix}
            x & -1 &        &    &    \\
              & x  & \ddots &    &    \\
              &    & \ddots & -1 &    \\
              &    &        & x  & -1 \\
              &    &        &    & x
        \end{pmatrix},\enspace
        B=\begin{pmatrix}
            -1 &    &        &    &    \\
            x  & -1 &        &    &    \\
               & x  & \ddots &    &    \\
               &    & \ddots & -1 &    \\
               &    &        & x  & -1
        \end{pmatrix} \]
\end{solution}

\begin{example}{}{}
    解行列式$D_n=\begin{vmatrix}
            \lambda & a      & a      & a      & \cdots & a      \\
            b       & \gamma & \beta  & \beta  & \cdots & \beta  \\
            b       & \beta  & \gamma & \beta  & \cdots & \beta  \\
            \vdots  & \vdots & \vdots & \vdots & \ddots & \vdots \\
            b       & \beta  & \beta  & \beta  & \cdots & \gamma
        \end{vmatrix}$
\end{example}

\begin{solution}
    从第$n$行到第3行，每行都减去上一行；再从第3列到第$n$列，每列都加到第2列，得

    \begin{align*}
        D_n & =
        \begin{vmatrix}
            \lambda & a            & a            & a            & \cdots & a            \\
            b       & \gamma       & \beta        & \beta        & \cdots & \beta        \\
            0       & \beta-\gamma & \gamma-\beta & 0            & \cdots & 0            \\
            0       & 0            & \beta-\gamma & \gamma-\beta & \cdots & 0            \\
            \vdots  & \vdots       & \vdots       & \vdots       & \ddots & \vdots       \\
            0       & 0            & 0            & 0            & \cdots & \gamma-\beta
        \end{vmatrix}             \\
            & =\begin{vmatrix}
                   \lambda & (n-1)a            & a            & a            & \cdots & a            \\
                   b       & \gamma+(n-2)\beta & \beta        & \beta        & \cdots & \beta        \\
                   0       & 0                 & \gamma-\beta & 0            & \cdots & 0            \\
                   0       & 0                 & \beta-\gamma & \gamma-\beta & \cdots & 0            \\
                   \vdots  & \vdots            & \vdots       & \vdots       & \ddots & \vdots       \\
                   0       & 0                 & 0            & 0            & \cdots & \gamma-\beta
               \end{vmatrix} \\
            & =\begin{vmatrix}
                   \lambda & (n-1)a            \\
                   b       & \gamma+(n-2)\beta
               \end{vmatrix} \cdot \begin{vmatrix}
                                       \gamma-\beta & 0            & \cdots & 0            \\
                                       \beta-\gamma & \gamma-\beta & \cdots & 0            \\
                                       \vdots       & \vdots       & \ddots & \vdots       \\
                                       0            & 0            & \cdots & \gamma-\beta
                                   \end{vmatrix}           \\
            & =(\lambda \gamma+\lambda(n-2)\beta-(n-1)ab)(\gamma-\beta)^{n-2}
    \end{align*}
\end{solution}

\begin{example}{}{}
    计算行列式$D_n=\begin{vmatrix}
            (a_1 + b_1)^{-1} & (a_1 + b_2)^{-1} & \cdots & (a_1 + b_n)^{-1} \\
            (a_2 + b_1)^{-1} & (a_2 + b_2)^{-1} & \cdots & (a_2 + b_n)^{-1} \\
            \vdots           & \vdots           & \ddots & \vdots           \\
            (a_n + b_1)^{-1} & (a_n + b_2)^{-1} & \cdots & (a_n + b_n)^{-1}
        \end{vmatrix}$.
\end{example}

\subsection{升阶法}

升阶法就是把 $n$ 阶行列式增加一行一列变成 $n+1$ 阶行列式，再通过性质化简算出结果，这种计算行列式的方法叫做升阶法或加边法. 升阶法的最大特点就是要找每行或每列相同的因子, 那么升阶之后, 就可以利用行列式的性质把绝大多数元素化为0，这样就达到简化计算的效果.

\begin{example}{}{}
    解行列式 $D=\begin{vmatrix}
            0      & 1      & 1      & \cdots & 1      & 1      \\
            1      & 0      & 1      & \cdots & 1      & 1      \\
            1      & 1      & 0      & \cdots & 1      & 1      \\
            \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
            1      & 1      & 1      & \cdots & 0      & 1      \\
            1      & 1      & 1      & \cdots & 1      & 0
        \end{vmatrix}$.
\end{example}

\begin{solution}
    使行列式 $D$ 变成 $n+1$ 阶行列式, 即
    \[ D=\begin{vmatrix}
            1      & 1      & 1      & \cdots & 1      & 1      \\
            0      & 0      & 1      & \cdots & 1      & 1      \\
            0      & 1      & 0      & \cdots & 1      & 1      \\
            \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
            0      & 1      & 1      & \cdots & 0      & 1      \\
            0      & 1      & 1      & \cdots & 1      & 0
        \end{vmatrix} \]

    再将第一行的 $-1$ 倍加到其他各行, 得:
    \[ D =\begin{vmatrix}
            1      & 1  & \cdots & 1  \\
            -1     & -1 &        &    \\
            \vdots &    & \ddots &    \\
            -1     &    &        & -1
        \end{vmatrix} \]

    从第二列开始, 每列乘以 $-1$ 加到第一列, 得:
    \begin{align*}
        D & =\begin{vmatrix}
                 -(n-1) & 1  & \cdots & 1  \\
                        & -1 &        &    \\
                        &    & \ddots &    \\
                        &    &        & -1
             \end{vmatrix} \\
          & =(-1)^{n+1}(n-1)
    \end{align*}
\end{solution}

\subsection{数归/递推法}

\begin{example}{}{递推法}
    计算行列式$D_n=\begin{vmatrix}
            \cos \beta & 1            &        &              &              \\
            1          & 2 \cos \beta & \ddots &              &              \\
                       & 1            & \ddots & 1            &              \\
                       &              & \ddots & 2 \cos \beta & 1            \\
                       &              &        & 1            & 2 \cos \beta
        \end{vmatrix}$.
\end{example}

\begin{solution}
    \begin{align*}
        D_1 & =\cos\beta                               \\
        D_2 & =\begin{vmatrix}
                   \cos\beta & 1          \\
                   1         & 2\cos\beta
               \end{vmatrix}=2\cos^2\beta-1=\cos2\beta
    \end{align*}

    猜想$D_n=\cos n\beta$. 数学归纳证明：

    假设当 $n=k$ 时，结论成立，即 $D_{k}=\cos k \beta$. 现证当 $n=k+1$ 时，结论也成立. $ n=k+1 $ 时，
    \[ D_{k+1} = \begin{vmatrix}
            \cos \beta & 1            &        &              &              \\
            1          & 2 \cos \beta & \ddots &              &              \\
                       & 1            & \ddots & 1            &              \\
                       &              & \ddots & 2 \cos \beta & 1            \\
                       &              &        & 1            & 2 \cos \beta
        \end{vmatrix} \]

    将 $D_{k+1}$ 按最后一行展开, 得
    \begin{align*}
        D_{k+1}={} & (-1)^{k+1+k+1} \cdot 2 \cos \beta
        \begin{vmatrix}
            \cos \beta & 1            &        &              &              \\
            1          & 2 \cos \beta & \ddots &              &              \\
                       & 1            & \ddots & 1            &              \\
                       &              & \ddots & 2 \cos \beta & 1            \\
                       &              &        & 1            & 2 \cos \beta
        \end{vmatrix} \\
                   & +(-1)^{k+1+k}
        \begin{vmatrix}
            \cos \beta & 1            & 0            & \cdots & 0      \\
            1          & 2 \cos \beta & 1            & \cdots & 0      \\
            0          & 1            & 2 \cos \beta & \cdots & 0      \\
            \vdots     & \vdots       & \vdots       & \ddots & \vdots \\
            0          & 0            & 0            & \cdots & 1
        \end{vmatrix}       \\
        ={}        & 2\cos\beta D_k-D_{k-1}
    \end{align*}

    而$D_{k}=\cos k \beta,\enspace
        D_{k-1}=\cos (k-1)\beta = \cos (k \beta-\beta) = \cos k \beta \cos \beta+\sin k \beta \sin \beta$. 所以有
    \begin{align*}
        D_{k+1} & = 2 \cos \beta D_{k}-D_{k-1}                                               \\
                & =2 \cos \beta \cos k \beta-\cos k \beta \cos \beta-\sin k \beta \sin \beta \\
                & =\cos k \beta \cos \beta-\sin k \beta \sin \beta                           \\
                & =\cos (k+1) \beta
    \end{align*}

    则证得$D_n=\cos n\beta,\enspace n\in \mathbf{N}$.
\end{solution}

下面介绍常系数线性递推数列，为了方便，只介绍二阶情况. 如果$D_n$满足关系式
\[ aD_n+bD_{n-1}+cD_{n-2}=0 \]
解特征方程
\[ ar^2+br+c=0 \]
会有三种根的情况.
\begin{enumerate}
    \item $\Delta>0$, 有两个不等的实根$r_1, r_2$，则有
          \[ D_n=C_1r_1^n+C_2r_2^n \]

    \item $\Delta=0$, 有重实根$r$，则有
          \[ D_n=(C_1+nC_2)r^n \]

    \item $\Delta<0$, 有共轭复根$r=\cos\beta\pm \i\sin\beta$，则有
          \[ D_n=C_1\cos n\beta + C_2\sin n\beta \]
\end{enumerate}
以上式子中的$C_1,C_2$均为任意常数，可以令$n=1,2$获得.

所以其实\autoref{ex:递推法} 也可以使用递推式求得答案（留作习题证明略）. 不过一般遇到的还是特征根为实数的情况比较多，给出一道练习例题：

\begin{example}{}{}
    计算行列式$D_n=
        \begin{vmatrix}
            9 & 5 &        &   &   \\
            4 & 9 & \ddots &   &   \\
              & 4 & \ddots & 5 &   \\
              &   & \ddots & 9 & 5 \\
              &   &        & 4 & 9
        \end{vmatrix}$.
\end{example}

\begin{solution}
    按第一列展开, 得
    \[ D_n=9 D_{n-1}-20 D_{n-2} \]
    即 $ D_n-9 D_{n-1}+20 D_{n-2}=0 $.

    作特征方程
    \[ x^{2}-9 x+20=0 \]
    解得 $ x_1=4,\enspace x_2=5 $. 则
    \[ D_n=A \cdot 4^n+B \cdot 5^n \]

    当 $n=1$ 时, $9=4A+5B$；

    当 $n=2$ 时，$61=16A+25B$.

    解得$A=-4,\enspace B=5$，所以
    \[ D_n=5^{n+1}-4^{n+1} \]
\end{solution}

最后我们介绍一个经典且复杂的例子，即所谓柯西行列式，我们利用递推法来求解：

\begin{example}{柯西行列式}{}
    计算行列式 $D_n=\begin{vmatrix}
            (a_1+b_1)^{-1} & (a_1+b_2)^{-1} & \cdots & (a_1+b_n)^{-1} \\
            (a_2+b_1)^{-1} & (a_2+b_2)^{-1} & \cdots & (a_2+b_n)^{-1} \\
            \vdots         & \vdots         & \ddots & \vdots         \\
            (a_n+b_1)^{-1} & (a_n+b_2)^{-1} & \cdots & (a_n+b_n)^{-1}
        \end{vmatrix}$.
\end{example}

\begin{solution}
    我们尝试求解 $D_n$ 和 $D_{n-1}$ 之间的递推式. 首先将行列式的前 $n-1$ 列每列都减去第 $n$ 列：

    \begin{align*}
        D_n & = \begin{vmatrix}
                    \dfrac{1}{a_1+b_1}     & \cdots & \dfrac{1}{a_1+b_{n-1}}     & \dfrac{1}{a_1+b_n}     \\[2ex]
                    \vdots                 & \ddots & \vdots                     & \vdots                 \\[2ex]
                    \dfrac{1}{a_{n-1}+b_1} & \cdots & \dfrac{1}{a_{n-1}+b_{n-1}} & \dfrac{1}{a_{n-1}+b_n} \\[2ex]
                    \dfrac{1}{a_n+b_1}     & \cdots & \dfrac{1}{a_n+b_{n-1}}     & \dfrac{1}{a_n+b_n}
                \end{vmatrix}                                                                       \\[2ex]
            & = \begin{vmatrix}
                    \dfrac{b_n-b_1}{(a_1+b_1)(a_1+b_n)}         & \cdots & \dfrac{b_n-b_{n-1}}{(a_1+b_{n-1})(a_1+b_n)}         & \dfrac{1}{a_1+b_n}     \\[2ex]
                    \vdots                                      & \ddots & \vdots                                              & \vdots                 \\[2ex]
                    \dfrac{b_n-b_1}{(a_{n-1}+b_1)(a_{n-1}+b_n)} & \cdots & \dfrac{b_n-b_{n-1}}{(a_{n-1}+b_{n-1})(a_{n-1}+b_n)} & \dfrac{1}{a_{n-1}+b_n} \\[2ex]
                    \dfrac{b_n-b_1}{(a_n+b_1)(a_n+b_n)}         & \cdots & \dfrac{b_n-b_{n-1}}{(a_n+b_{n-1})(a_n+b_n)}         & \dfrac{1}{a_n+b_n}
                \end{vmatrix}
    \end{align*}
    第二步是提取公因式：
    \[ \text{上式} = \dfrac{\prod\limits_{i=1}^{n-1}(b_n-b_i)}{\prod\limits_{j=1}^{n}(a_j+b_n)}
        \begin{vmatrix}
            \dfrac{1}{a_1+b_1}     & \cdots & \dfrac{1}{a_1+b_{n-1}}     & 1      \\[2ex]
            \vdots                 & \ddots & \vdots                     & \vdots \\[2ex]
            \dfrac{1}{a_{n-1}+b_1} & \cdots & \dfrac{1}{a_{n-1}+b_{n-1}} & 1      \\[2ex]
            \dfrac{1}{a_n+b_1}     & \cdots & \dfrac{1}{a_n+b_{n-1}}     & 1
        \end{vmatrix} \]
    第三步是将行列式的前 $n-1$ 行每行都减去第 $n$ 行：
    \[ \text{上式} = \dfrac{\prod\limits_{i=1}^{n-1}(b_n-b_i)}{\prod\limits_{j=1}^{n}(a_j+b_n)}
        \begin{vmatrix}
            \dfrac{a_n-a_1}{(a_1+b_1)(a_n+b_1)}         & \cdots & \dfrac{a_n-a_1}{(a_1+b_{n-1})(a_n+b_{n-1})}         & 0      \\[2ex]
            \vdots                                      & \ddots & \vdots                                              & \vdots \\[2ex]
            \dfrac{a_n-a_{n-1}}{(a_{n-1}+b_1)(a_n+b_1)} & \cdots & \dfrac{a_n-a_{n-1}}{(a_{n-1}+b_{n-1})(a_n+b_{n-1})} & 0      \\[2ex]
            \dfrac{1}{a_n+b_1}                          & \cdots & \dfrac{1}{a_n+b_{n-1}}                              & 1
        \end{vmatrix} \]
    然后再次提取公因式：
    \begin{align*}
        \text{上式} & = \dfrac{\prod\limits_{i=1}^{n-1}(a_n-a_i)(b_n-b_i)}{\prod\limits_{j=1}^{n}(a_j+b_n)\prod\limits_{k=1}^{n-1}(a_n+b_k)}
        \begin{vmatrix}
            \dfrac{1}{a_1+b_1}     & \cdots & \dfrac{1}{a_1+b_{n-1}}     \\[2ex]
            \vdots                 & \ddots & \vdots                     \\[2ex]
            \dfrac{1}{a_{n-1}+b_1} & \cdots & \dfrac{1}{a_{n-1}+b_{n-1}}
        \end{vmatrix}                                                         \\[2ex]
                    & = \dfrac{\prod\limits_{i=1}^{n-1}(a_n-a_i)(b_n-b_i)}{\prod\limits_{j=1}^{n}(a_j+b_n)\prod\limits_{k=1}^{n-1}(a_n+b_k)} D_{n-1}
    \end{align*}
    不断递推下去即得

    \[|A| = \dfrac{\prod\limits_{1 \leqslant i < j \leqslant n}(a_j - a_i)(b_j - b_i)}{\prod\limits_{i,j=1}^{n}(a_i + b_j)}\]
\end{solution}

\subsection{硬拆法}

通常使用这种方法时某行或列会有较为明显的加和关系，这时可以将这一行或列视作两个向量相加，然后拆开形成两个行列式进行计算.

\begin{example}{}{}
    计算行列式$D_n=\begin{vmatrix}
            1-a_{1} & a_{2}   &        &           &         \\
            -1      & 1-a_{2} & \ddots &           &         \\
                    & -1      & \ddots & a_{n-1}   &         \\
                    &         & \ddots & 1-a_{n-1} & a_{n}   \\
                    &         &        & -1        & 1-a_{n}
        \end{vmatrix}$.
\end{example}

\begin{solution}
    把第一列的元素看成两项的和进行拆列, 得
    \begin{align*}
        D_n= & \begin{vmatrix}
                   1-a_{1} & a_{2}   &        &           &         \\
                   -1      & 1-a_{2} & \ddots &           &         \\
                   0 + 0   & -1      & \ddots & a_{n-1}   &         \\
                   0 + 0   &         & \ddots & 1-a_{n-1} & a_{n}   \\
                   0 + 0   &         &        & -1        & 1-a_{n}
               \end{vmatrix}                \\
        =    & \begin{vmatrix}
                   1  & a_{2}   &        &           &         \\
                   -1 & 1-a_{2} & \ddots &           &         \\
                      & -1      & \ddots & a_{n-1}   &         \\
                      &         & \ddots & 1-a_{n-1} & a_{n}   \\
                      &         &        & -1        & 1-a_{n}
               \end{vmatrix} + \begin{vmatrix}
                                   -a_{1} & a_{2}   &        &           &         \\
                                          & 1-a_{2} & \ddots &           &         \\
                                          & -1      & \ddots & a_{n-1}   &         \\
                                          &         & \ddots & 1-a_{n-1} & a_{n}   \\
                                          &         &        & -1        & 1-a_{n}
                               \end{vmatrix}
    \end{align*}

    上面第一个行列式的值为 1（从第 1 行开始，每一行依次加到下一行），所以
    \[ \begin{aligned}
            D_n & =1-a_{1}\begin{vmatrix}
                              1-a_{2} & a_{3}   &        &           &         \\
                              -1      & 1-a_{3} & \ddots &           &         \\
                                      & -1      & \ddots & a_{n-1}   &         \\
                                      &         & \ddots & 1-a_{n-1} & a_{n}   \\
                                      &         &        & -1        & 1-a_{n}
                          \end{vmatrix} \\
                & =1-a_{1} D_{n-1} \cdot
        \end{aligned} \]

    这个式子对任何 $n \geqslant 2$ 都成立, 因此有
    \begin{align*}
        D_n & =1-a_{1} D_{n-1}                                          \\
            & =1-a_{1}(1-a_{2} D_{n-2})                                 \\
            & =\cdots                                                   \\
            & =1-a_{1}+a_{1} a_{2}+\cdots+(-1)^n a_{1} a_{2} \cdots a_n \\
            & =1+\sum_{i=1}^{n}(-1)^i \prod_{j=1}^i a_j
    \end{align*}
\end{solution}

\subsection{利用 Vandermonde 行列式}

\begin{example}{}{}
    求行列式 $D_n=\begin{vmatrix}
            1         & 1         & \cdots & 1         \\
            x_1       & x_2       & \cdots & x_n       \\
            x_1^{2}   & x_2^{2}   & \cdots & x_n^{2}   \\
            \vdots    & \vdots    & \ddots & \vdots    \\
            x_1^{n-2} & x_2^{n-2} & \cdots & x_n^{n-2} \\
            x_1^{n}   & x_2^{n}   & \cdots & x_n^{n}
        \end{vmatrix}$.
\end{example}

\begin{solution}
    本题有两个重要的直觉：第一这一行列式非常像 Vandermonde 行列式，第二这一行列式与 Vandermonde 行列式好像差了关键的一行. 因此我们考虑结合升阶法，构造一个 $n+1$ 阶的Vandermonde行列式.
    \[ f(x)=\begin{vmatrix}
            1         & 1         & \cdots & 1         & 1       \\
            x_1       & x_2       & \cdots & x_n       & x       \\
            x_1^{2}   & x_2^{2}   & \cdots & x_n^{2}   & x^{2}   \\
            \vdots    & \vdots    & \ddots & \vdots    & \vdots  \\
            x_1^{n-2} & x_2^{n-2} & \cdots & x_n^{n-2} & x^{n-2} \\
            x_1^{n-1} & x_2^{n-1} & \cdots & x_n^{n-1} & x^{n-1} \\
            x_1^{n}   & x_2^{n}   & \cdots & x_n^{n}   & x^{n}
        \end{vmatrix} \]

    将 $f(x)$ 按第 $n+1$ 列展开, 得
    \[ f(x)=A_{1, n+1}+A_{2, n+1} x+\cdots+A_{n, n+1} x^{n-1}+A_{n+1, n+1} x^{n} \]
    其中 $x^{n-1}$ 的系数为
    \[ A_{n, n+1}=(-1)^{n+(n+1)} D_n=-D_n \]

    又根据 Vandermonde 行列式的结果知
    \[ f(x)=(x-x_1)(x-x_2)\cdots(x-x_n) \prod_{1 \leqslant j<i \leqslant n}(x_i-x_j) \]
    由上式可求得 $x^{n-1}$ 的系数为
    \[ -(x_1+x_2+\cdots+x_n) \prod_{1 \leqslant j<i \leqslant n}(x_i-x_j) \]
    故有
    \[ D_n=(x_1+x_2+\cdots+x_n) \prod_{1 \leqslant j<i \leqslant n}(x_i-x_j) \]
\end{solution}

\subsection{利用$|E_m-AB|=|E_n-BA|$} \label{sec:利用|E_m-AB|=|E_n-BA|}

\begin{example}{}{}
    求行列式 $\begin{vmatrix}
            0      & 2a_1   & 3a_1   & \cdots & na_1     \\
            a_2    & a_2    & 3a_2   & \cdots & na_2     \\
            a_3    & 2a_3   & 2a_3   & \cdots & na_3     \\
            \vdots & \vdots & \vdots & \ddots & \vdots   \\
            a_n    & 2a_n   & 3a_n   & \cdots & (n-1)a_n \\
        \end{vmatrix}$.
\end{example}

\begin{solution}
    \[ \text{原式}=\prod_{i=1}^na_i \begin{vmatrix}
            0      & 2      & 3      & \cdots & n      \\
            1      & 1      & 3      & \cdots & n      \\
            1      & 2      & 2      & \cdots & n      \\
            \vdots & \vdots & \vdots & \ddots & \vdots \\
            1      & 2      & 3      & \cdots & n-1    \\
        \end{vmatrix} \]

    注意到这个行列式对应的矩阵可以加上一个单位矩阵构成一个每行都相等的矩阵，所以我们可以利用$|E_m-AB|=|E_n-BA|$来求解这个行列式.
    \begin{align*}
        \begin{vmatrix}
            0      & 2      & 3      & \cdots & n      \\
            1      & 1      & 3      & \cdots & n      \\
            1      & 2      & 2      & \cdots & n      \\
            \vdots & \vdots & \vdots & \ddots & \vdots \\
            1      & 2      & 3      & \cdots & n-1
        \end{vmatrix}
         & = \begin{vmatrix}(-1)\left(E_n-\begin{pmatrix}
                1      & 2      & 3      & \cdots & n      \\
                1      & 2      & 3      & \cdots & n      \\
                1      & 2      & 3      & \cdots & n      \\
                \vdots & \vdots & \vdots & \ddots & \vdots \\
                1      & 2      & 3      & \cdots & n
            \end{pmatrix}\right)\end{vmatrix} \\
         & =(-1)^n\begin{vmatrix}E_n-
                      \begin{pmatrix}
                1 \\1\\1\\\vdots\\1
            \end{pmatrix}\begin{pmatrix}1 & 2 & 3 & \cdots & n\end{pmatrix}\end{vmatrix}
    \end{align*}

    而 \[ \begin{vmatrix}E_n-\begin{pmatrix}
                1 \\1\\1\\\vdots\\1
            \end{pmatrix}\begin{pmatrix}1 & 2 & 3 & \cdots & n\end{pmatrix}\end{vmatrix}
        =1-\begin{pmatrix}1 & 2 & 3 & \cdots & n\end{pmatrix}
        \begin{pmatrix}1 \\ 1 \\ 1 \\ \vdots \\ 1\end{pmatrix}
        =-\frac{n^2+n-2}{2} \]

    所以原式$\displaystyle =(-1)^{n+1}\frac{n^2+n-2}{2}\prod_{i=1}^na_i$.
\end{solution}

\section{Laplace定理}
我们在\autoref{def:递归式定义} 中讲述了行列式一行（一列）展开的方式，这里我们讲解一个更加一般的展开方式：即按照$k$行（$k$列）展开.

为了描述这一定理，我们需要首先将单个元素的余子式和代数余子式的概念推广到子式的余子式和代数余子式. 为此，我们先给出一个定义：
\begin{definition}{}{}
    $n$阶行列式$|A|$中任意取定$k$行、$k$列$(1\leqslant k<n)$，记为$i_1,\ldots,i_k$行，$j_1,\ldots,j_k$列，位于这些行和列的交叉处的$k^2$个元素所构成的$k$阶子式称为$|A|$的一个$k$阶子式，这一$k$阶子式记为$A\begin{pmatrix}
            i_1 & \cdots & i_k \\
            j_1 & \cdots & j_k
        \end{pmatrix}$.

    划去子式所在的取定的$k$行、$k$列，剩下的元素所构成的$n-k$阶行列式称为这个$k$阶子式的余子式，记为
    \[A\begin{pmatrix}
            i_1' & \cdots & i_{n-k}' \\
            j_1' & \cdots & j_{n-k}'
        \end{pmatrix},\]
    其中$\{i_1',\ldots,i_{n-k}'\}=\{1,\ldots,n\}\setminus\{i_1,\ldots,i_k\}$，$\{j_1',\ldots,j_{n-k}'\}=\{1,\ldots,n\}\setminus\{j_1,\ldots,j_k\}$，且$i_1'<\cdots<i_{n-k}'$，$j_1'<\cdots<j_{n-k}'$. 它前面乘以$(-1)^{(i_1+\cdots+i_k)+(j_1+\cdots+j_k)}$所得的数称为这个$k$阶子式的代数余子式.
\end{definition}

事实上上面关于子式的定义与上一讲给出的完全一致，只是多了一个记号，而子式的余子式实际上也只是单个元素余子式到多行多列的自然扩展. 举个简单的例子，对于3阶行列式$|A|=\begin{vmatrix}
        a_{11} & a_{12} & a_{13} \\
        a_{21} & a_{22} & a_{23} \\
        a_{31} & a_{32} & a_{33}
    \end{vmatrix}$，取定第1,3行，第1,2列，那么这个2阶子式为$A\begin{pmatrix}
        1 & 3 \\
        1 & 2
    \end{pmatrix}=\begin{vmatrix}
        a_{11} & a_{12} \\
        a_{31} & a_{32}
    \end{vmatrix}$，它的余子式为$A\begin{pmatrix}
        2 \\ 3
    \end{pmatrix}=\begin{vmatrix}
        a_{23}
    \end{vmatrix}$，代数余子式为$(-1)^{(1+3)+(1+2)}a_{23}=-a_{23}$.

\begin{theorem}{}{Laplace定理}
    在$n$阶行列式$|A|$中，取定$k$行：第$i_1,i_2,\ldots,i_k$行（$1\leqslant i_1<i_2<\cdots<i_k\leqslant n$，且$1\leqslant k<n$），则这$k$行元素形成的所有$k$阶子式与它们自己的代数余子式的乘积之和等于$|A|$，即
    \begin{equation}\label{eq:14:Laplace定理}
        |A|=\sum_{1\leqslant j_1<j_2<\cdots<j_k\leqslant n}A\begin{pmatrix}
            i_1 & \cdots & i_k \\
            j_1 & \cdots & j_k
        \end{pmatrix}\cdot (-1)^{(i_1+\cdots+i_k)+(j_1+\cdots+j_k)}A\begin{pmatrix}
            i_1' & \cdots & i_{n-k}' \\
            j_1' & \cdots & j_{n-k}'
        \end{pmatrix}.
    \end{equation}

    若取定$k$列：第$j_1,j_2,\ldots,j_k$列（$1\leqslant j_1<j_2<\cdots<j_k\leqslant n$，且$1\leqslant k<n$），则这$k$列元素形成的所有$k$阶子式与它们自己的代数余子式的乘积之和等于$|A|$.
\end{theorem}

下面的证明需要利用一些行列式逆序数定义的知识，感兴趣的读者可以参考史海拾遗一讲的描述，当然也可以略过这里的证明.

\begin{proof}
    我们只证明前一半按行展开的情况，后一半按列展开的情况可以类似证明. 事实上，$|A|$是$n!$项的代数和（事实上直接用按一行（一列）展开的定义结合数学归纳法很容易得到），而\autoref{eq:14:Laplace定理} 右边求和符号包含$\binom{n}{k}$项，然后$k$阶子式展开有$k!$项，$n-k$阶代数余子式有$(n-k)!$项，所以$\binom{n}{k}\cdot k!\cdot (n-k)!=n!$，所以\autoref{eq:14:Laplace定理} 等号左右项数相同.

    事实上，我们不难发现\autoref{eq:14:Laplace定理} 等号右端$n!$项是互不相同的（不是计算结果一定互不相同，是参与计算的行列式元素不同），又\autoref{eq:14:Laplace定理} 等号左右项数相同，故我们只需证明等号右侧每一项都是$|A|$展开中的一项即可.

    在\autoref{eq:14:Laplace定理} 右侧任取一项：
    \[(-1)^{\tau(\mu_1\cdots\mu_k)}a_{i_1\mu_1}\cdots a_{i_k\mu_k}(-1)^{(i_1+\cdots+i_k)+(j_1+\cdots+j_k)}(-1)^{\tau(\nu_1\cdots\nu_{n-k})}a_{i_1'\nu_1}\cdots a_{i_{n-k}'\nu_{n-k}'},\]
    其中$\mu_1,\ldots,\mu_k$为$j_1,\ldots,j_k$的一个排列，$\nu_1,\ldots,\nu_{n-k}$为$j_1',\ldots,j_{n-k}'$的一个排列，$\tau$代表置换的符号（在朝花夕拾一讲中有介绍）.

    而在\autoref{eq:14:Laplace定理} 左侧有如下一项：
    \[(-1)^{\tau(i_1\cdots i_ki_1'\cdots i_{n-k}')+\tau(\mu_1\cdots\mu_k\nu_1\cdots\nu_{n-k})}a_{i_1\mu_1}\cdots a_{i_k\mu_k}a_{i_1'\nu_1}\cdots a_{i_{n-k}'\nu_{n-k}'},\]
    并且我们有
    \begin{align*}
         & (-1)^{\tau(i_1\cdots i_ki_1'\cdots i_{n-k}')+\tau(\mu_1\cdots\mu_k\nu_1\cdots\nu_{n-k})}                                                        \\
         & =(-1)^{\sum\limits_{r=1}^ki_r-\frac{k(1+k)}{2}}(-1)^{\tau(\mu_1\cdots\mu_k)+\tau(\nu_1\cdots\nu_{n-k})+\sum\limits_{r=1}^kj_r+\frac{k(1+k)}{2}} \\
         & =(-1)^{\tau(\mu_1\cdots\mu_k)+\tau(\nu_1\cdots\nu_{n-k})}(-1)^{(i_1+\cdots+i_k)+(j_1+\cdots+j_k)}.
    \end{align*}
    因此\autoref{eq:14:Laplace定理} 右侧任意一项都可以在左侧找到对应，证毕.
\end{proof}

我们用一个简单的例子来应用这一定理：
\begin{example}{}{}
    设$A$为$n$阶方阵，$B$为$m$阶方阵，$C$为$m\times n$矩阵，证明：
    \[ \begin{vmatrix}
            A & O \\
            C & B
        \end{vmatrix}=|A|\cdot|B|. \]
\end{example}

\begin{proof}
    将$\begin{vmatrix}
            A & O \\
            C & B
        \end{vmatrix}$按前$n$行展开，得到的所有可能$n$阶子式只有$A$不为0（其它子式都有全零列），且其代数余子式为
    \[(-1)^{(1+2+\cdots+k)+(1+2+\cdots+k)}|B|=|B|,\]
    由Laplace定理，原式$=|A|\cdot|B|$.
\end{proof}

因此这里给出了比教材179页例4更为简洁的证明方法，当前前提在于利用了一个证明起来更为复杂的定理.

\begin{example}{}{}
    计算行列式$\begin{vmatrix}
            -1 & 1  & 1 & 2 & -1 \\
            0  & -1 & 0 & 1 & 2  \\
            2  & 1  & 1 & 3 & -1 \\
            1  & 2  & 2 & 1 & 0  \\
            0  & 3  & 0 & 1 & 3
        \end{vmatrix}.$
\end{example}

\begin{solution}
    因为第一、第三列含有较多的 $0$，因此在这两列上做 Laplace 展开，得
    \begin{align*}
        |A| & = \begin{vmatrix}
                    -1 & 1 \\ 2 & 1
                \end{vmatrix} \cdot (-1)^{1+3+1+3}
        \begin{vmatrix}
            -1 & 1 & 2 \\ 2 & 1 & 0 \\ 3 & 1 & 3
        \end{vmatrix}                                 \\
            & + \begin{vmatrix}
                    -1 & 1 \\ 1 & 2
                \end{vmatrix} \cdot (-1)^{1+4+1+3}
        \begin{vmatrix}
            -1 & 1 & 2 \\ 1 & 3 & -1 \\ 3 & 1 & 3
        \end{vmatrix}                                \\
            & + \begin{vmatrix}
                    2 & 1 \\ 1 & 1
                \end{vmatrix} \cdot (-1)^{3+4+1+3}
        \begin{vmatrix}
            1 & 2 & -1 \\ -1 & 1 & 2 \\ 3 & 1 & 3
        \end{vmatrix}                                \\
            & = (-3) \times (-11) + (-3) \times 32 + 3 \times (-23) = -132.
    \end{align*}
\end{solution}

\section{伴随矩阵}

伴随矩阵是一个重要的概念，它给出了逆矩阵与原矩阵的关联，并且其性质都比较经典，很适合于练习.
\begin{definition}{伴随矩阵}{} \index{bansuijuzhen@伴随矩阵 (adjugate matrix)}
    称矩阵$A^*=\begin{pmatrix}
            A_{11} & A_{21} & \cdots & A_{n1} \\
            A_{12} & A_{22} & \cdots & A_{n2} \\
            \vdots & \vdots & \ddots & \vdots \\
            A_{1n} & A_{2n} & \cdots & A_{nn}
        \end{pmatrix}$为$A$的\term{伴随矩阵}，其中$A_{ij}$是元素$a_{ij}$的代数余子式.
\end{definition}
我们要特别注意伴随矩阵代数余子式的下标与通常矩阵下标不一致，与转置下标一致. 伴随矩阵具有以下几个重要性质，我们将给出大部分性质的证明，部分性质我们放在朝花夕拾中证明：
\begin{example}{}{伴随矩阵}
    证明下列关于$n$阶矩阵$A$的伴随矩阵$A^*$的性质：
    \begin{enumerate}
        \item \label{item:13:伴随矩阵:1}
              $AA^*=A^*A=|A|E$，若$A$可逆，则有$A^{-1}=|A|^{-1}A^*,\enspace A^*=|A|A^{-1},\enspace (A^*)^{-1}=(A^{-1})^*=|A|^{-1}A$.

        \item $|A^*|=|A|^{n-1}$，无论$A$是否可逆.

        \item \label{item:13:伴随矩阵:3}
              $(AB)^*=B^*A^*,\enspace (A^\mathrm{T})^*=(A^*)^\mathrm{T},\enspace (kA)^*=k^{n-1}A^*$，要求掌握$A$和$B$可逆时的证明，若不可逆则需要使用第二节习题C组中对角占优的推论证明.

        \item $A$可逆时，$(A^*)^*=|A|^{n-2}A,\enspace |(A^*)^*|=|A|^{(n-1)^2}$（本题结论可以推广到更多重的伴随矩阵）.

        \item 对正整数$k$，$(A^k)^*=(A^*)^k$.

        \item $r(A^*)=\begin{cases}
                      n & r(A)=n     \\
                      1 & r(A)=n-1   \\
                      0 & r(A) < n-1
                  \end{cases}$.
    \end{enumerate}
\end{example}

\begin{proof}
    \begin{enumerate}
        \item 由\autoref{eq:13:递归式定义3} 和\autoref{eq:13:递归式定义4}，$AA^*$的第$i$行第$j$列元素为
              \[\sum_{k=1}^{n}a_{ik}A_{kj}=\begin{cases}
                      |A| & i=j      \\
                      0   & i \neq j
                  \end{cases}\]
              因此$AA^*=|A|E$，同理可证$A^*A=|A|E$.

              若$A$可逆，则$|A| \neq 0$，从而由$AA^*=|A|E$可知$A^{-1}=|A|^{-1}A^*$，$A^*=|A|A^{-1}$，$(A^*)^{-1}=|A|^{-1}A$.

              而我们知道$(A^{-1})^*A^{-1}=|A^{-1}|E=|A|^{-1}E$，因此$(A^{-1})^*=|A|^{-1}A$.

        \item 由$AA^*=|A|E$，$|AA^*|=|A||A^*|=|A|^n$，因此$|A^*|=|A|^{n-1}$.

        \item 只证明$A$和$B$可逆的情况，由$A^*=|A|A^{-1}$可知，$(AB)^*=|AB|(AB)^{-1}=|A||B|B^{-1}A^{-1}=B^*A^*$.

              由$(A^\mathrm{T})^*=|A^\mathrm{T}|(A^\mathrm{T})^{-1}=|A|(A^{-1})^\mathrm{T}=(|A|A^{-1})^\mathrm{T}=(A^*)^\mathrm{T}$.

              由$(kA)^*=|kA|(kA)^{-1}=k^n|A|\cdot k^{-1}A^{-1}=k^{n-1}A^*$.

        \item 由$(A^*)^*=|A^*|A^{*-1}$，$|A^*|=|A|^{n-1}$，$(A^*)^{-1}=|A|^{-1}A$，可知$(A^*)^*=|A|^{n-2}A$. 由$|(A^*)^*|=||A|^{n-2}A|^{n-1}=|A|^{n(n-2)+1}=|A|^{(n-1)^2}$.

        \item 由$(A^k)^*=|A^k|(A^k)^{-1}=|A|^k(A^{-1})^k=(|A|A^{-1})^k=(A^*)^k$.

        \item 证明见\autoref{ex:伴随矩阵的秩}.
    \end{enumerate}
\end{proof}

在计算行列式时若出现伴随矩阵，我们经常使用\autoref{ex:伴随矩阵} 中的 \ref*{item:13:伴随矩阵:1}，\ref*{item:13:伴随矩阵:3} 进行计算.

使用伴随矩阵求逆矩阵是一种矩阵求逆的方式，我们通过一个简单的例子复习：
\begin{example}{}{}
    判断矩阵$\begin{pmatrix}
            1 & 2 & 3 \\ 2 & 1 & 2 \\ 1 & 3 & 3
        \end{pmatrix}$是否可逆. 若可逆，利用伴随矩阵求其逆矩阵.
\end{example}

\begin{solution}
    见教材182页例1.
\end{solution}

下面的例子也十分经典，是已知伴随矩阵求原矩阵，需要熟练运用伴随矩阵的性质：
\begin{example}
    已知$A^*=\begin{pmatrix}
            1 & -2 & 1 \\ 0 & 2 & -2 \\ -1 & 2 & 1
        \end{pmatrix}$，求$A$.
\end{example}

\begin{solution}
    不难求得 $|A^*| = 4$，根据伴随矩阵行列式的性质有，$|A^*| = |A|^2$，因此 $|A| = \pm 2$. 若 $|A| = 2$，则根据 $AA^* = |A|E$，有

    \[A^{-1} = |A|^{-1}A^* = \frac{1}{2}\begin{pmatrix}
            1 & -2 & 1 \\ 0 & 2 & -2 \\ -1 & 2 & 1
        \end{pmatrix} = \begin{pmatrix}
            \dfrac{1}{2} & -1 & \dfrac{1}{2} \\ 0 & 1 & -1 \\ -\dfrac{1}{2} & 1 & \dfrac{1}{2}
        \end{pmatrix}.\]

    因此 $A = (A^{-1})^{-1} = \begin{pmatrix}
            3 & 2 & 1 \\ 1 & 1 & 1 \\ 1 & 0 & 1
        \end{pmatrix}$.

    若 $|A| = -2$，则同理可以求得 $A = -\begin{pmatrix}
            3 & 2 & 1 \\ 1 & 1 & 1 \\ 1 & 0 & 1
        \end{pmatrix}$.
\end{solution}

\section{Cramer法则}

从历史角度来开，引入行列式是用于求解线性方程组的. 瑞士数学家克莱姆（Cramer）于1750年在他的《线性代数分析导言》中发表了这一方法. 事实上莱布尼兹〔1693〕，以及麦克劳林〔1748〕亦研究了这一法则，但他们的记法不如克莱姆清晰. 接下来我们介绍这一充满历史底蕴的定理：
\begin{theorem}{Cramer法则}{Cramer} \index{Cramer@Cramer 法则 (Cramer's rule)}
    对线性方程组
    \begin{gather}
        \label{eq:13:线性方程组1}
        \begin{cases} \begin{aligned}
                a_{11}x_1+a_{12}x_2+\cdots+a_{1n}x_n & = 0             \\
                a_{21}x_1+a_{22}x_2+\cdots+a_{2n}x_n & = 0             \\
                                                     & \vdotswithin{=} \\
                a_{n1}x_1+a_{n2}x_2+\cdots+a_{nn}x_n & = 0
            \end{aligned} \end{cases}
        \\
        \label{eq:13:线性方程组2}
        \begin{cases} \begin{aligned}
                a_{11}x_1+a_{12}x_2+\cdots+a_{1n}x_n & = b_1           \\
                a_{21}x_1+a_{22}x_2+\cdots+a_{2n}x_n & = b_2           \\
                                                     & \vdotswithin{=} \\
                a_{n1}x_1+a_{n2}x_2+\cdots+a_{nn}x_n & = b_n
            \end{aligned} \end{cases}
    \end{gather}

    令$D=\begin{vmatrix}
            a_{11} & a_{12} & \cdots & a_{1n} \\
            a_{21} & a_{22} & \cdots & a_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{n1} & a_{n2} & \cdots & a_{nn}
        \end{vmatrix}$，称为系数行列式.

    令$D_1=\begin{vmatrix}
            b_1    & a_{12} & \cdots & a_{1n} \\
            b_2    & a_{22} & \cdots & a_{2n} \\
            \vdots & \vdots & \ddots & \vdots \\
            b_n    & a_{n2} & \cdots & a_{nn}
        \end{vmatrix},\ldots,D_n=\begin{vmatrix}
            a_{11} & a_{12} & \cdots & b_1    \\
            a_{21} & a_{22} & \cdots & b_2    \\
            \vdots & \vdots & \ddots & \vdots \\
            a_{n1} & a_{n2} & \cdots & b_n
        \end{vmatrix}$.

    \begin{enumerate}
        \item 方程组 \ref{eq:13:线性方程组1} 只有零解$\iff D \neq 0$，有非零解（无穷多解）$\iff D=0$，即$r(A)<n$；

        \item 方程组 \ref{eq:13:线性方程组2} 有唯一解$\iff D \neq 0$，此时$x_i=\dfrac{D_i}{D}\enspace(i=1,2,\ldots,n)$，当$D=0$时，方程组 \ref{eq:13:线性方程组2} 要么无解，要么有无穷多解.
    \end{enumerate}
\end{theorem}

\begin{proof}
    我们不区分齐次与非齐次方程组进行证明，实际上齐次的结论只是下面证明的特例. 事实上，对于任意线性方程组$AX=b$，其中$b$可以是零向量，若$D=|A|\neq 0$，则$A$可逆，因此方程组有解
    \[X=A^{-1}b=\frac{1}{|A|}A^*b=\frac{1}{D}A^*b,\]
    即
    \[\begin{pmatrix}
            x_1 \\ x_2 \\ \vdots \\ x_n
        \end{pmatrix}= \dfrac{1}{D}\begin{pmatrix}
            A_{11} & A_{21} & \cdots & A_{n1} \\
            A_{12} & A_{22} & \cdots & A_{n2} \\
            \vdots & \vdots & \ddots & \vdots \\
            A_{1n} & A_{2n} & \cdots & A_{nn}
        \end{pmatrix}\begin{pmatrix}
            b_1 \\ b_2 \\ \vdots \\ b_n
        \end{pmatrix},\]
    于是根据\autoref{def:递归式定义}，
    \[x_i=\frac{1}{D}(b_1A_{1i}+b_2A_{2i}+\cdots+b_nA_{ni})=\frac{D_i}{D}\enspace(i=1,2,\ldots,n)\]
    事实上此时解唯一，因为可逆矩阵$A$应当是可逆线性映射$\sigma$关于某组基的表示矩阵. 对于可逆映射而言，首先必须是单射，因此$\sigma(a)=b$只能有唯一解，因此$AX=b$只能有唯一解.

    反之，若方程组$AX=b$只有唯一解，说明方阵$A$对应的线性映射$\sigma$是单射，并且因为$A$是方阵，因此$\sigma$出发空间与到达空间维数相同，由\autoref{thm:双射等价条件} 可知$\sigma$是双射，因此$A$可逆，从而$|A|\neq 0$. 综上可以证明方程组$AX=b$有唯一解$\iff D=|A|\neq 0$.

    剩下的无解、无穷解的结论就很显然了. 若$AX=b$无解或有无穷解，反证法，若$D\neq 0$，则$A$可逆，从而$AX=b$有唯一解，矛盾，故$D=0$. 反之，若$D=0$，则$A$不可逆，反证法，若$AX=b$有唯一解，$A$可逆，矛盾，故$AX=b$无解或有无穷解（完全就是前面$AX=b$有唯一解$\iff D=|A|\neq 0$的推论）.
\end{proof}

我们可以用 Cramer 法则求解线性方程组，但要注意只有方程个数与未知数个数相等时才能使用，并且需要系数行列式不为0.
\begin{example}{}{}
    求解方程组$\begin{cases}
            x_1+x_2+x_3=1          \\
            a_1x_1+a_2x_2+a_3x_3=0 \\
            a_1^2x_1+a_2^2x_2+a_3^2x_3=0
        \end{cases}$，其中$a_1,a_2,a_3$两两不等.
\end{example}

\begin{solution}
    $a_1,a_2,a_3$两两不等时，我们有
    \[D=\begin{vmatrix}
            1     & 1     & 1     \\
            a_1   & a_2   & a_3   \\
            a_1^2 & a_2^2 & a_3^2
        \end{vmatrix}=(a_2-a_1)(a_3-a_1)(a_3-a_2)\neq 0,\]
    根据Cramer法则，方程组有唯一解，且
    \[D_1=\begin{vmatrix}
            1 & 1     & 1     \\
            0 & a_2   & a_3   \\
            0 & a_2^2 & a_3^2
        \end{vmatrix}=(a_3-a_2)a_2a_3,\]
    \[D_2=\begin{vmatrix}
            1     & 1 & 1     \\
            a_1   & 0 & a_3   \\
            a_1^2 & 0 & a_3^2
        \end{vmatrix}=(a_1-a_3)a_1a_3,\]
    \[D_3=\begin{vmatrix}
            1     & 1     & 1 \\
            a_1   & a_2   & 0 \\
            a_1^2 & a_2^2 & 0
        \end{vmatrix}=(a_2-a_1)a_1a_2,\]
    因此
    \[x_1=\dfrac{D_1}{D}=\dfrac{a_2a_3}{(a_2-a_1)(a_3-a_1)},\]\[x_2=\dfrac{D_2}{D}=\dfrac{a_1a_3}{(a_1-a_2)(a_3-a_2)},\]\[x_3=\dfrac{D_3}{D}=\dfrac{a_1a_2}{(a_1-a_3)(a_2-a_3)}.\]
\end{solution}

事实上，Cramer法则在定理内容中已经给我们提供了关于线性方程组解的理论的重要结论——它实现了我们第一讲中提到的方程组解的情况的更一般化的讨论，即不需要化为简化阶梯矩阵就可以利用更为一般化的结论判断方程组解的情况，我们将在朝花夕拾中进行更完整的讨论.

\section{行列式的秩}

\subsection{行列式的秩}

首先我们需要给出矩阵的子式、主子式的定义，然后给出相关的顺序主子式的定义.
\begin{definition}{}{}
    矩阵$A=(a_{ij})_{n \times n}$的任意$k$行（$i_1<i_2<\cdots<i_k$行）和任意$k$列（$j_1<j_2<\cdots<j_k$列）的交点上的$k^2$个元素排成的行列式
    \[\begin{vmatrix}
            a_{i_1j_1} & a_{i_1j_2} & \cdots & a_{i_1j_k} \\
            a_{i_2j_1} & a_{i_2j_2} & \cdots & a_{i_2j_k} \\
            \vdots     & \vdots     & \ddots & \vdots     \\
            a_{i_kj_1} & a_{i_kj_2} & \cdots & a_{i_kj_k}
        \end{vmatrix}\]
    称为矩阵$A$的一个$k$阶子式，若子式等于0则称$k$阶零子式，否则称非零子式.

    当$A$为方阵且$i_t=j_t\enspace(t=1,2,\ldots,k)$（即选取相同行列）时，称为$A$的$k$阶\term{主子式}\index{zhuzishi@主子式 (principal minor)}. 若$i_t=j_t=t\enspace(t=1,2,\ldots,k)$，称为$A$的$k$阶\term{顺序主子式}\index{zhuzishi!shunxu@顺序主子式 (leading principal minor)}（取前$k$行$k$列的左上角主子式）.
\end{definition}

\begin{example}{}{}
    写出矩阵$\begin{pmatrix}
            1 & 5 & -2 \\ 2 & 3 & 4 \\ -1 & -3 & 0
        \end{pmatrix}$的所有一阶、二阶子式、主子式和顺序主子式.
\end{example}

\begin{solution}
    \begin{enumerate}
        \item 一阶子式：根据子式定义，任意1行1列交点组成的1个元素就是一阶子式，即所有的元素本身都是一阶子式；

        \item 二阶子式：根据子式定义，任意2行2列交点组成的4个元素排成的行列式就是二阶子式，即
              \[\begin{vmatrix}
                      1 & 5 \\
                      2 & 3
                  \end{vmatrix},\begin{vmatrix}
                      1 & -2 \\
                      2 & 4
                  \end{vmatrix},\begin{vmatrix}
                      5 & -2 \\
                      3 & 4
                  \end{vmatrix},\begin{vmatrix}
                      1  & 5  \\
                      -1 & -3
                  \end{vmatrix},\begin{vmatrix}
                      1  & -2 \\
                      -1 & 0
                  \end{vmatrix},\]\[\begin{vmatrix}
                      5  & -2 \\
                      -3 & 0
                  \end{vmatrix},\begin{vmatrix}
                      2  & 3  \\
                      -1 & -3
                  \end{vmatrix},\begin{vmatrix}
                      2  & 4 \\
                      -1 & 0
                  \end{vmatrix},\begin{vmatrix}
                      3  & 4 \\
                      -3 & 0
                  \end{vmatrix};\]

        \item 主子式：根据主子式定义，要求取的行列号相同，故一阶主子式就是1行1列、2行2列、3行3列的元素，二阶主子式就是选取1、2/1、3/2、3行与列构成的子式，即
              \[\begin{vmatrix}
                      1 & 5 \\ 2 & 3
                  \end{vmatrix},\begin{vmatrix}
                      1 & -2 \\ -1 & 0
                  \end{vmatrix},\begin{vmatrix}
                      3 & 4 \\ -3 & 0
                  \end{vmatrix};\]
              三阶主子式就是矩阵本身对应的行列式，不再赘述.

        \item 顺序主子式根据定义，一阶就是第一行第一列的元素，二阶就是前两行前两节元素构成的子式，三阶就是本身的行列式.
    \end{enumerate}
\end{solution}

接下来我们给出行列式的秩的定义.
\begin{definition}{}{}
    矩阵$A$的非零子式的最高阶数$r$称为$A$的行列式秩.
\end{definition}
即矩阵$A$的行列式秩为$r$的含义为$A$至少有一个$r$阶子式不为0，但所有$r+1$阶子式均为0. 事实上，我们可以通过如下定理统一矩阵的秩和行列式秩：
\begin{theorem}{}{行列式秩等于行列式秩}
    矩阵$A$的秩$r(A)=r \iff A$的行列式的秩为$r$.
\end{theorem}
我们可以得到上一个专题中矩阵的秩的等价定义. 这一定理的证明见教材183页，事实上是很简单的. 我们可以这么理解，最高非零子式的阶数实际上就是矩阵行、列向量极大线性无关组的长度（更多行、列向量就会使得子式等于0，此时必不满秩），那么这一定理就很显然了.

\begin{definition}{}{}
    矩阵$A$的非零子式的最高阶数$r$称为矩阵$A$的秩，记为$r(A)$.
\end{definition}

需要注意的是，前面定义的子式、行列式秩等都是对矩阵定义的，原因是行列式虽名为``式''但实际上只是一个数，只有矩阵有形可以定义上述概念.
\begin{example}{}{}
    利用定义求矩阵$\begin{pmatrix}
            1 & 1 & -1 & 3 \\ 1 & 2 & 1 & 1 \\ 2 & 3 & 0 & 4
        \end{pmatrix}$的行列式秩.
\end{example}

\begin{solution}
    记该矩阵为$A$，由于$A$为3行4列矩阵，因此$r(A)\leqslant 3$. 又我们可以发现其三阶子式
    \[\begin{vmatrix}
            1 & -1 & 3 \\ 1 & 1 & 1 \\ 2 & 0 & 4
        \end{vmatrix}=-4\neq 0,\]
    故$r(A)\geqslant 3$，因此$r(A)=3$.
\end{solution}

\subsection{关于秩的总结}

本学期我们一共学习了四个秩的概念：向量组的秩，线性映射的秩，矩阵的秩和行列式的秩. 事实上，我们在很多地方都讨论了它们的统一性：
\begin{enumerate}
    \item 在矩阵的秩的定义以及三秩的统一中体现了向量组的秩（行秩、列秩的定义基于向量组的秩）和线性映射的秩（矩阵的秩的定义基于线性映射的秩）与矩阵的秩的统一；

    \item 在\autoref{thm:行列式秩等于行列式秩} 中统一了矩阵的秩和行列式的秩.
\end{enumerate}
虽然线性映射的秩、矩阵的秩、行列式的秩的定义各不相同，但本质都在于向量组的秩（回顾线性映射的秩的定义，矩阵行秩、列秩的定义，乃至\autoref*{thm:行列式秩等于行列式秩} 的证明）. 这给我们的启示是上述提到的概念都可以互相转化考虑. 例如考虑可逆时，我们可以考虑行、列向量是否线性无关/矩阵对应的线性映射是否可逆/行列式是否为0等. 虽然说起来很简单，但是实际做题的时候很多同学还是容易思维局限，因此我们需要将这些概念的统一性放在重要的位置.
\begin{example}{}{}
    求多项式$f(x)=\begin{vmatrix}
            1 & a_1   & a_2     & a_3     \\
            1 & a_1+x & a_2     & a_3     \\
            1 & a_1   & a_2+x+1 & a_3     \\
            1 & a_1   & a_2     & a_3+x+2
        \end{vmatrix}$的所有零点.
\end{example}

\begin{solution}
    事实上，本题可以直接首先展开求出四阶行列式的值然后解方程$f(x)=0$即可，但我们这里使用更为本质的方法. $f(x)=0$实际上就是行列式等于零，即此时$x$使得行列式中两列（或两行）线性相关了. 事实上，我们很容易发现$x=0$时，第一列与第二列成比例，故此时$f(x)=0$成立. 同理，$x=-1$和$x=-2$也是$f(x)=0$的解.

    事实上，我们知道这一行列式展开后是一个次数最高为3的多项式，因此$0,-1,-2$就是$f(x)$的所有零点.
\end{solution}

\begin{summary}

    在这一讲中我们引入了一个重要的工具——行列式. 我们不同于一般教材的逆序数定义（我们将会在史海拾遗中从历史角度介绍这一定义），首先给出了公理化的定义，并且发现行列式事实上就是在描述$n$维空间中物体的体积. 接下来我们也介绍了递归式定义（即按一行一列展开）和逆序数定义，并讨论了行列式的一些性质，介绍了常用的范德蒙行列式，在此基础上也介绍了大量的运算技巧——或许读者能回想起中学时代刷题的感觉. 接下来我们也介绍了伴随矩阵及其大量性质，在性质的证明中希望读者体会这类证明的一般想法. 我们也介绍了Cramer法则，它是最开始研究线性方程组理论的一个核心结果，因此在讨论线性方程组一般理论的朝花夕拾一讲中我们还会再遇见它的身影. 最后我们讨论了行列式的秩，这也是我们最后一个``秩''的定义，我们讨论了向量组、线性映射、矩阵、行列式的秩的统一性，这也是我们这一学期学习的秩的概念的一个总结，也希望读者能在练习中更深刻体会它们的关联.

    事实上，我们很难说服读者行列式以什么样的方式引入是最为合适的，或许在史海拾遗的历史讲述中我们可能才能窥见行列式诞生的奥秘，那是最为自然的描述，但需要过多的准备以至于可能令人厌烦. 但至少公理化定义是非常简单的，并且有一定的几何背景，由此也直接可以得出行列式大量的优良性质，例如矩阵可逆等价于行列式等于零——这一性质在将来关于线性方程组、特征多项式等的讨论中是核心的.

\end{summary}

\begin{exercise}
    \exquote[约翰·纳皮尔]{我总是尽我的精力和才能来摆脱那种繁重而单调的计算. }

    \begin{exgroup}
        \item 证明：行列式的公理化定义、递归式定义和逆序数定义是等价的.

        \item 设$\alpha_1,\alpha_2,\alpha_3$为三维列向量，令$A=(\alpha_1,\alpha_2,\alpha_3)$，且$|A|=2$，求$|\alpha_1+\alpha_2+\alpha_3,\alpha_1+3\alpha_2+9\alpha_3,\alpha_1+4\alpha_2+16\alpha_3|$.

        \item 求证以下命题：
        \begin{enumerate}
            \item 奇数阶反对称矩阵不可逆；

            \item 若$A$是$n$阶可逆对称矩阵，$B$是$n$阶反对称矩阵，则当$n$为奇数时，齐次线性方程组$(AB)X=O$有非零解.
        \end{enumerate}

        \item 设$A$、$B$分别为$m$、$n$阶可逆矩阵，且$|A|=a$，$|B|=b$，求$\begin{pmatrix}
                A & O \\ O & B
            \end{pmatrix}^*$和$\begin{pmatrix}
                O & A \\ B & O
            \end{pmatrix}^*$.

        \item 证明：
        \begin{enumerate}
            \item 若$A$为幂等矩阵，则$A^*$也为幂等矩阵；$A$为幂零矩阵，则$A^*$也为幂零矩阵；

            \item 若$A$为对称矩阵，则$A^*$也为对称矩阵；$A$为反对称矩阵，则$A^*$为偶数阶时也为反对称矩阵，奇数阶时为对称矩阵.
        \end{enumerate}

        \item 证明：上（下）三角矩阵的伴随矩阵是上（下）三角矩阵（对角矩阵为特例）.

        \item 设$A$为$n$阶方阵，证明：若$|A|=0$，则$A$中任意两行（列）对应元素的代数余子式成比例.

        \item 设向量$\alpha_1,\alpha_2,\alpha_3$线性无关，讨论向量$\alpha_1-\alpha_2-2\alpha_3,\ 2\alpha_1+\alpha_2-\alpha_3,\ 3\alpha_1+\alpha_2+2\alpha_3$的线性相关性.

        \item 设$W=\spa(\alpha_1,\alpha_2)$是$\mathbf{R}^4$的一个子空间，其中$\alpha_1=(1,2,1,-1)^\mathrm{T}$，$\alpha_2=(1,4,-1,-1)^\mathrm{T}$，试将$\alpha_1,\alpha_2$扩充为$\mathbf{R}^4$的基.

        \item $ D_n=\begin{vmatrix}
                1      & 2      & 3      & 4      & \cdots & n-1    & n      \\
                x      & 1      & 2      & 3      & \cdots & n-2    & n-1    \\
                x      & x      & 1      & 2      & \cdots & n-3    & n-2    \\
                x      & x      & x      & 1      & \cdots & n-4    & n-3    \\
                \vdots & \vdots & \vdots & \vdots & \ddots & \vdots & \vdots \\
                x      & x      & x      & x      & \cdots & 1      & 2      \\
                x      & x      & x      & x      & \cdots & x      & 1      \\
            \end{vmatrix}$（提示：考虑滚动消去法）.

        \item $ D_n=\begin{vmatrix}
                a_1 & b_1 &     &        &         \\
                    & a_2 & b_2 &        &         \\
                    &     & a_3 & \ddots &         \\
                    &     &     & \ddots & b_{n-1} \\
                b_n &     &     &        & a_n
            \end{vmatrix}$.

        \item $D_n=\begin{vmatrix}
                a+b & ab  &        &     &     \\
                1   & a+b & \ddots &     &     \\
                    & 1   & \ddots & ab  &     \\
                    &     & \ddots & a+b & ab  \\
                    &     &        & 1   & a+b \\
            \end{vmatrix}$.

        \item 用递推法解\autoref{ex:递推法}.

        \item 解行列式 $ \begin{vmatrix}
                a^{2} & (a+1)^{2} & (a+2)^{2} & (a+3)^{2} \\
                b^{2} & (b+1)^{2} & (b+2)^{2} & (b+3)^{2} \\
                c^{2} & (c+1)^{2} & (c+2)^{2} & (c+3)^{2} \\
                d^{2} & (d+1)^{2} & (d+2)^{2} & (d+3)^{2}
            \end{vmatrix} $.

        \item 设
        \[ D=\begin{vmatrix}
                1+a_1  & 1      & \cdots & 1      \\
                1      & 1+a_2  & \cdots & 1      \\
                \vdots & \vdots & \ddots & \vdots \\
                1      & 1      & \cdots & 1+a_n
            \end{vmatrix} \]
        \begin{enumerate}
            \item 用递推公式计算行列式$D$；

            \item 硬拆$D$为$2^n$个行列式，计算出结果.
        \end{enumerate}

        \item 解行列式
        \begin{enumerate}
            \item $D=\begin{vmatrix}
                          1      & 2      & \cdots & 2      & 2      \\
                          2      & 2      & \cdots & 2      & 2      \\
                          \vdots & \vdots & \ddots & \vdots & \vdots \\
                          2      & 2      & \cdots & n-1    & 2      \\
                          2      & 2      & \cdots & 2      & n\end{vmatrix}$；

            \item $D=\begin{vmatrix}
                          1      & 2      & \cdots & n-1    & n      \\
                          2      & 3      & \cdots & n      & 1      \\
                          3      & 4      & \cdots & 1      & 2      \\
                          \vdots & \vdots & \ddots & \vdots & \vdots \\
                          n      & 1      & \cdots & n-2    & n-1
                      \end{vmatrix}$.
        \end{enumerate}

        \item 记$a_{ij}=|i-j|$，且$A=(a_{ij})_{n\times n}$，计算$A$的行列式.

        \item 计算行列式$D=\begin{vmatrix}
                1 & 0 & 2 & 0 & x   \\
                0 & 2 & 0 & 1 & 0   \\
                1 & 0 & 4 & 0 & x^2 \\
                0 & 5 & 0 & 3 & 0   \\
                1 & 0 & 8 & 0 & x^3
            \end{vmatrix}$.

    \end{exgroup}

    \begin{exgroup}
        \item 设$D=\begin{vmatrix}
                3 & 0 & 4 & 1 \\ 2 & 3 & 1 & 4 \\ 0 & -7 & 8 & 3 \\ 5 & 3 & -2 & 2
            \end{vmatrix}$，求
        \begin{enumerate}
            \item $A_{21}+A_{22}+A_{23}+A_{24}$；

            \item $A_{31}+A_{33}$；

            \item $M_{41}+M_{42}+M_{43}+M_{44}$.
        \end{enumerate}

        \item 求参数 $a,b$  的值，使得$\begin{vmatrix}1 & 1 & 1 \\ x & y & z \\u & v & w\end{vmatrix}=1,
            \begin{vmatrix}1 & 2 & -5 \\ x & y & z \\u & v & w\end{vmatrix}=2,
            \begin{vmatrix}2 & 3 & b \\ x & y & z \\u & v & w\end{vmatrix}=a$都成立，并求$\begin{vmatrix}x & y & z \\ 1 & -1 & 5 \\u & v & w\end{vmatrix}$.

        \item 设$A,B$为三阶矩阵，且$|A|=3,|B|=2$，且$|A^{-1}+B|=2$，求$|A+B^{-1}|$.

        \item 设$A$为$n$阶正交矩阵，即$AA^\mathrm{T}=A^\mathrm{T}A=E$，且$|A|<0$，证明：$|E+A|=0$.

        \item 设实方阵$A$的伴随矩阵$A^*=\begin{pmatrix}
                1 & 0 & 0 \\ 0 & 1 & 0 \\ 1 & 0 & 1
            \end{pmatrix}$，且$|A|>0$，已知矩阵$B$满足$AB=E+3A$，求矩阵$B$.

        \item 设$B=\begin{pmatrix}
                1 & 1 & 1 \\ 0 & 1 & 1 \\ 0 & 0 & 1
            \end{pmatrix}$，矩阵$A$满足方程$BA=B^\mathrm{T}B$，求$|A^*-2E|$.

        \item 已知齐次线性方程组
        \[\begin{cases} \begin{aligned}
                    a_{11}x_1+a_{12}x_2+\cdots+a_{1n}x_n          & = 0             \\
                    a_{21}x_1+a_{22}x_2+\cdots+a_{2n}x_n          & = 0             \\
                                                                  & \vdotswithin{=} \\
                    a_{n-1,1}x_1+a_{n-1,2}x_2+\cdots+a_{n-1,n}x_n & = 0
                \end{aligned} \end{cases}\]
        设$M_j\enspace(j=1,2,\ldots,n)$表示$A=(a_{ij})_{n-1 \times n}$划掉第$j$列所得的$n-1$阶子式，证明：
        \begin{enumerate}
            \item $(M_1,-M_2,\ldots,(-1)^{n-1}M_n)$是方程组的一个解；

            \item 若$r(A)=n-1$，则方程组的解全是$(M_1,-M_2,\ldots,(-1)^{n-1}M_n)$的倍数.
        \end{enumerate}

        \item 设$A,B$均为$n$阶矩阵，且$|A|=2,|B|=1$，求$|2A^*B^*-A^{-1}B^{-1}|$.

        \item 若$n$阶非零矩阵$A$满足$A^\mathrm{T}=A^*$，证明：
        \begin{enumerate}
            \item $|A|>0$；

            \item $|A|=1$（补充：若$A$第一行元素相等，求第一行元素的值）；

            \item $A$为正交矩阵，即$AA^\mathrm{T}=A^\mathrm{T}A$；

            \item $n>2$且为奇数时，$|E-A|=0$.
        \end{enumerate}

        \item 已知$A$是一个秩为$n-1$的$n\enspace(n \geqslant 2)$阶方阵，且已知某个元素$a_{ij}$的代数余子式$A_{ij} \neq 0$，求方程组$AX=0$的基础解系.

        \item 设$D=|a_{ij}|_{n \times n}$，$A_{ij}$是$a_{ij}$的代数余子式. 求证：
        \[\begin{vmatrix}
                A_{11}    & A_{12}    & \cdots & A_{1,n-1}   \\
                A_{21}    & A_{22}    & \cdots & A_{2,n-1}   \\
                \vdots    & \vdots    & \ddots & \vdots      \\
                A_{n-1,1} & A_{n-1,2} & \cdots & A_{n-1,n-1}
            \end{vmatrix}=a_{nn}D^{n-2}.\]

        \item 设$a_1,a_2,\ldots,a_n$为互不相等的实数，$b_1,b_2,\ldots,b_n$为任意给定的实数. 证明：存在唯一的$n-1$次多项式，满足$f(a_i)=b_i,\enspace i=1,2,\ldots,n$.

        \item 设 $a_1,a_2,\ldots,a_n$ 是 $n$ 个两两互异的实数，$f_1(x),f_2(x),\ldots,f_n(x)$ 是 $n$ 个次数不大于 $n-2$ 的实系数多项式，证明：

        \[\begin{vmatrix}
                f_1(a_1) & f_1(a_2) & \cdots & f_1(a_n) \\
                f_2(a_1) & f_2(a_2) & \cdots & f_2(a_n) \\
                \vdots   & \vdots   & \ddots & \vdots   \\
                f_n(a_1) & f_n(a_2) & \cdots & f_n(a_n)
            \end{vmatrix}=0.\]

        \item 证明：$n$维向量组$\alpha_1,\alpha_2,\ldots,\alpha_n$线性无关的充要条件是
        \[\begin{vmatrix}
                \alpha_1^\mathrm{T}\alpha_1 & \alpha_1^\mathrm{T}\alpha_2 & \cdots & \alpha_1^\mathrm{T}\alpha_n \\
                \alpha_2^\mathrm{T}\alpha_1 & \alpha_2^\mathrm{T}\alpha_2 & \cdots & \alpha_2^\mathrm{T}\alpha_n \\
                \vdots                      & \vdots                      & \ddots & \vdots                      \\
                \alpha_n^\mathrm{T}\alpha_1 & \alpha_n^\mathrm{T}\alpha_2 & \cdots & \alpha_n^\mathrm{T}\alpha_n
            \end{vmatrix}\neq 0.\]

        \item 设$a_1,\ldots,a_n$为$n$个$n$维向量，证明：向量组$a_1,\ldots,a_n$线性无关的充要条件是任一个$n$维向量都可以由其线性表示（不使用线性空间维数的方式完成）.

        \item 设$s \times n\enspace(s\leqslant n)$矩阵为
        \[\begin{pmatrix}
                1      & a      & a^2    & \cdots & a^{n-1}    \\
                1      & a^2    & a^4    & \cdots & a^{2(n-1)} \\
                \vdots & \vdots & \vdots & \ddots & \vdots     \\
                1      & a^s    & a^{2s} & \cdots & a^{s(n-1)}
            \end{pmatrix}\]
        且$a^r\neq 1\enspace(0<r<n)$，求$A$的秩和它的列向量组的一个极大线性无关组.

        \item 设$A,B,C,D \in \mathbf{F}^{n \times n}$，定义变换 $ T : \mathbf{F}^{n \times n} \to \mathbf{F}^{n \times n}$ 为
        \[ T(X) = AXB+CX+XD \]
        证明：
        \begin{enumerate}
            \item $T$为$\mathbf{F}^{n \times n}$上的线性变换；

            \item 当$C=D=0$时，$T$可逆的充要条件是$|AB| \neq 0$.
        \end{enumerate}

        \item 设$A$为$n$阶矩阵，且$r(A) < n$，又$A_{11} \neq 0$，证明：存在常数$k$，使得$(A^*)^2=kA^*$.

        \item 设$V$是一个$n$维实线性空间，证明：存在$V$中的一个由可列无穷多个向量组成的向量组$\{\alpha_i \mid i\in\mathbf{Z}_+\}$，使得其中任意$n$个向量组成的向量组都是$V$的一组基.

        \item 回顾\autoref{ex:函数和数列线性空间} 中数列极限的例子，证明：以$0$为极限的实数数列全体构成的线性空间是无限维线性空间.

        \item 解行列式
        \begin{enumerate} \begin{multicols}{2}
                \item $ D_1=\begin{vmatrix}
                        1 & 2 & 3 & 4 \\2&3&4&1\\3&4&1&2\\4&1&2&3
                    \end{vmatrix} $

                \item $ D_2=\begin{vmatrix}
                        \lambda+2 & -1        & -1        & -1        \\
                        -1        & \lambda+2 & -1        & -1        \\
                        -1        & -1        & \lambda+2 & -1        \\
                        -1        & -1        & -1        & \lambda+2
                    \end{vmatrix} $

            \end{multicols} \begin{multicols}{2} % dirty hack

                \item $ D_3=\begin{vmatrix}
                        1^{2} & 2^{2} & 3^{2} & 4^{2} \\
                        2^{2} & 3^{2} & 4^{2} & 5^{2} \\
                        3^{2} & 4^{2} & 5^{2} & 6^{2} \\
                        4^{2} & 5^{2} & 6^{2} & 7^{2}
                    \end{vmatrix} $

                \item $ D_4=\begin{vmatrix}
                        3 & 2 & 0 & 0 \\
                        1 & 3 & 2 & 0 \\
                        0 & 1 & 3 & 2 \\
                        0 & 0 & 1 & 3
                    \end{vmatrix} $
            \end{multicols} \end{enumerate}

        \item 解行列式 $\begin{vmatrix}
                a_{1}+a_{2}         & a_{2}+a_{3}         & \cdots & a_{n-1}+a_n         & a_n+a_{1}         \\
                a_{1}^{2}+a_{2}^{2} & a_{2}^{2}+a_{3}^{2} & \cdots & a_{n-1}^{2}+a_n^{2} & a_n^{2}+a_{1}^{2} \\
                \vdots              & \vdots              & \ddots & \vdots              & \vdots            \\
                a_{1}^{n}+a_{2}^{n} & a_{2}^{n}+a_{3}^{n} & \cdots & a_{n-1}^{n}+a_n^{n} & a_n^{n}+a_{1}^{n}
            \end{vmatrix}$.

        \item 解行列式
        \begin{multicols}{2} \begin{enumerate}
                \item $D=\begin{vmatrix}
                              ax+by & ay+bz & az+bx \\
                              ay+bz & az+bx & ax+by \\
                              az+bx & ax+by & ay+bz
                          \end{vmatrix}$

                \item $D=\begin{vmatrix}
                              x^2+1 & xy    & xz    \\
                              xy    & y^2+1 & yz    \\
                              xz    & yz    & z^2+1
                          \end{vmatrix}$
            \end{enumerate} \end{multicols}

        \item 计算行列式$|2E-\alpha_1^\mathrm{T}\beta_1-\alpha_2^\mathrm{T}\beta_2|$，其中$\alpha_1=(a_1,a_2,\ldots,a_n),\enspace \beta_1=(b_1,b_2,\ldots,b_n),\enspace \alpha_2=(c_1,c_2,\ldots,c_n),\enspace \beta_2 = (d_1,d_2,\ldots,d_n)$.（提示：利用$|\lambda E_m-AB|=\lambda^{m-n}|\lambda E_n-BA|$）

        \item 求$2n$阶行列式的值（空缺处都是0）：
        \[\begin{vmatrix}
                a &         &   &   &         & b \\
                  & \ddots  &   &   & \iddots &   \\
                  &         & a & b &         &   \\
                  &         & b & a &         &   \\
                  & \iddots &   &   & \ddots  &   \\
                b &         &   &   &         & a
            \end{vmatrix}.\]
    \end{exgroup}

    \begin{exgroup}
        \item 设$A=(a_{ij})$是$n\enspace(n\geqslant 2)$阶整数方阵，满足对任意的$i,j$，$|A|$均可整除$a_{ij}$，证明：$|A|=\pm 1$.

        \item 设$f_{ij}(t)$是可微函数，
        \[F(t)=\begin{vmatrix}
                f_{11}(t) & f_{12}(t) & \cdots & f_{1n}(t) \\
                f_{21}(t) & f_{22}(t) & \cdots & f_{2n}(t) \\
                \vdots    & \vdots    & \ddots & \vdots    \\
                f_{n1}(t) & f_{n2}(t) & \cdots & f_{nn}(t)
            \end{vmatrix},\]
        求证：$\dfrac{\mathrm{d}}{\mathrm{d}t}F(t)=\sum\limits_{j=1}^nF_j(t)$，其中
        \[F_j(t)=\begin{vmatrix}
                f_{11}(t) & f_{12}(t) & \cdots & \dfrac{\mathrm{d}}{\mathrm{d}t}f_{1j}(t) & \cdots & f_{1n}(t) \\[2ex]
                f_{21}(t) & f_{22}(t) & \cdots & \dfrac{\mathrm{d}}{\mathrm{d}t}f_{2j}(t) & \cdots & f_{2n}(t) \\[2ex]
                \vdots    & \vdots    & \ddots & \vdots                                   & \vdots & \vdots    \\[2ex]
                f_{n1}(t) & f_{n2}(t) & \cdots & \dfrac{\mathrm{d}}{\mathrm{d}t}f_{nj}(t) & \cdots & f_{nn}(t)
            \end{vmatrix}.\]

        \item 设$A,B,C,D$均为$n$阶方阵，$\lvert A \rvert \neq 0$且$AC=CA$. 证明：
        \[\begin{vmatrix}
                A & B \\ C & D
            \end{vmatrix} = |AD-CB|.\]

        \item 设$A$为$n$阶可逆矩阵，$\alpha,\beta$为$n$维列向量，证明：
        \[|A+\alpha\beta^{\mathrm{T}}|=|A|(1+\beta^\mathrm{T}A^{-1}\alpha).\]

        \item 设$A,B$均为$n$阶方阵，证明：
        \[\begin{vmatrix}
                A & B \\ B & A
            \end{vmatrix} = |A+B||A-B|.\]

        \item 设$A,B,C,D$均为$n$阶方阵，且$r\begin{pmatrix}
                A & B \\ C & D
            \end{pmatrix}=n$，证明：
        \[\begin{vmatrix}
                |A| & |B| \\ |C| & |D|
            \end{vmatrix} = 0.\]

        \item 设$A$为$n$阶实对称矩阵（$n>1$），$|A|=0$，证明：$A_{ii}A_{jj}=(A_{ij})^2(i,j=1,\ldots,n)$.

        \item 求$\begin{pmatrix}
                A & C \\ O & B
            \end{pmatrix}^*$，并求当$A$可逆时的$\begin{pmatrix}
                A & B \\ C & D
            \end{pmatrix}^*$.

        \item 下面三个小问探讨伴随矩阵的反问题，即对任意给定的$n$阶方阵$B$，是否存在$n$阶方阵$A$使得$A^*=B$.
        \begin{enumerate}
            \item 证明：若$n=2$，则存在唯一的2阶方阵$A$使得$A^*=B$；

            \item 证明：若$n > 2$，则存在$n$阶方阵$A$使得$A^*=B$的充要条件为$r(B) \in \{0,1,n\}$，并且
                  \begin{enumerate}
                      \item $r(B)=n$时，$A=\sqrt[n-1]{|B|}B^{-1}$；

                      \item $r(B)=1$时，$A=Q^{-1}\begin{pmatrix}
                                    0 & O \\ O & X_{n-1}
                                \end{pmatrix}P^{-1}$，且$|X_{n-1}|=|PQ|$，$B=P\begin{pmatrix}
                                    1 & O \\ O & O
                                \end{pmatrix}Q$；
                  \end{enumerate}

            \item 设$A=\begin{pmatrix}
                          1 & 1 & 1 \\ 1 & 1 & 1 \\ 1 & 1 & 1
                      \end{pmatrix}$，求矩阵$B$使得$B^*=A$.
        \end{enumerate}

        \item 证明$\begin{vmatrix}
                a      & c      & c      & \cdots & c      \\
                b      & a      & c      & \cdots & c      \\
                b      & b      & a      & \cdots & c      \\
                \vdots & \vdots & \vdots & \ddots & \vdots \\
                b      & b      & b      & \cdots & a
            \end{vmatrix}=\dfrac{b(a-c)^{n}-c(a-b)^{n}}{b-c}$，其中 $b \neq c$, 等式左端是 $n$ 阶行列式.

        \item 计算$n$阶行列式
        \[|A|=\begin{vmatrix}
                a_1b_1 & a_1b_2 & a_1b_3 & \cdots & a_1b_n \\
                a_2b_1 & a_2b_2 & a_2b_3 & \cdots & a_2b_n \\
                a_3b_1 & a_3b_2 & a_3b_3 & \cdots & a_3b_n \\
                \vdots & \vdots & \vdots & \ddots & \vdots \\
                a_nb_1 & a_nb_2 & a_nb_3 & \cdots & a_nb_n
            \end{vmatrix}.\]

        \item 计算$n$阶行列式
        \[|A|=\begin{vmatrix}
                1+a_1^2 & a_1a_2  & \cdots & a_1a_n  \\
                a_2a_1  & 1+a_2^2 & \cdots & a_2a_n  \\
                \vdots  & \vdots  & \ddots & \vdots  \\
                a_na_1  & a_na_2  & \cdots & 1+a_n^2
            \end{vmatrix}.\]

        \item 计算$n$阶行列式
        \[|A|=\begin{vmatrix}
                1+x_1  & 1+x_1^2 & \cdots & 1+x_1^n \\
                1+x_2  & 1+x_2^2 & \cdots & 1+x_2^n \\
                \vdots & \vdots  & \ddots & \vdots  \\
                1+x_n  & 1+x_n^2 & \cdots & 1+x_n^n
            \end{vmatrix}.\]

        \item 计算$n$阶行列式，其中$x,y,z$为任意实常数：
        \[|A|=\begin{vmatrix}
                x_1    & y      & y      & \cdots & y      \\
                z      & x_2    & y      & \cdots & y      \\
                z      & z      & x_3    & \cdots & y      \\
                \vdots & \vdots & \vdots & \ddots & \vdots \\
                z      & z      & z      & \cdots & x_n
            \end{vmatrix}.\]
    \end{exgroup}
\end{exercise}
